id	project_name	assignee_id	processed_title	processed_description	processed_labels	priority_id	type_id	status_name
13038418	OAK	3114	test failure standalone	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure']	3	1	Closed
13017105	OAK	3114	support bundling node present version store	bundle logic work node structure present versionstore node store system jcr versionstorage node type frozennode node structure get version benefit bundle currently bundle logic look jcr primarytype jcr mixintypes determine type information support bundle node store version store look jcr frozenprimarytype jcr frozenmixintype property contain type information original node store got versione	['bundling']	3	4	Closed
13025009	OAK	3114	oakdirectory save dir listing change	note oakdirectory save directory list actual change happen directory change happen order entry set normal case luceneindexeditor avoid initialize indexwriter change happen node gets delete editor perform delete operation happen tree delete index editor determine easily lead oakdirectory close change lead save dir list change order entry	['performance']	4	4	Closed
13014980	OAK	3114	persistent cache cache path cover documentnodestatecache	possible use segmentnodestore secondary store like cache certain set path kind setup persistent cache cache nodestates cover documentnodestatecache	['secondary-nodestore']	3	4	Closed
13057878	OAK	3114	document metric relate class interface	metric relate class interface largely undocumented specifically immediately new stats instance add effect expose jmx	['documentation', 'technical_debt']	3	4	Open
12834183	OAK	3114	remove code relate directmemory heap cache	documentnodestore code relate heap make use apache directmemory feature persistentcache feature obsolete recently mention directmemory activity go project refer attic light remove feature oak	['technical_debt']	3	3	Closed
13014175	OAK	3114	enable configure queryenginesetting osgi config	oak queryengine expose setting option queryenginesetting currently configure system property jmx setting persistent way configure osgi simple option osgi component obtain reference queryenginesettingsmbean modify config activation	['docs-impacting']	4	4	Closed
12833421	OAK	3114	referenceeditor newid consume lot memory migration	large migration see referenceeditor newids consume lot memory record uuid property system million uuid index set consume memory look way maintain big memory state	['resilience']	4	4	Closed
12830964	OAK	3114	segmentblob return blobid contentidentity	segmentblob currently return recordid contentidentity external datastore configure give recordid stable well return blobid contentidentity external datastore configure	['resilience']	4	1	Closed
12922590	OAK	3114	sessionmbean getting register malformedobjectnameexception	change sessionmbean getting register contain objectname unfortunately exception throw gets lose got detect far noformat malformedobjectnameexception invalid character value noformat pass objectname code type sessionstatistics code	['regresion']	4	1	Closed
12844356	OAK	3114	cache recently extract text avoid duplicate extraction	happen text extract binary multiple time give indexing cycle happen reason multiple lucene index indexing node system multiple lucene index global lucene index index specific nodetype give indexing cycle file pick index definition extract text aggregation index time aggregation file pick multiple time aggregation rule avoid waste effort duplicate text extraction file give indexing cycle well expire cache hold extract text content time cache follow feature limit total size way expire content timed guava library wiki chance file getting pick high give indexing cycle well expire cache entry time avoid hog memory unnecessarily cache provide follow benefit avoid duplicate text extraction text extraction costly minimize critical path indexeditor avoid expensive specially binary content fetch remote blobstore	['performance']	3	4	Closed
12613758	OAK	3114	osgi relate dependency set provided scope mark optional	currently osgi relate dependency mark optional package mark optional correct dependency mark provide scope include transient dependency detail refer fix optional flag remove	['osgi']	4	1	Closed
13014649	OAK	3114	config option disable specific bundling config	oak ship default bundle config application want disable bundling case need support config option disable bundle specific nodetype proposal boolean property disabled bundle config specific nodetype indication bundle config	['bundling', 'docs-impacting']	4	4	Closed
13058163	OAK	3114	support path exclusion secondary nodestore	secondary nodestore feature currently support path inclusion useful support path exclusion user include content exclude index entry	['secondary-nodestore']	3	4	Open
12840750	OAK	3114	documentrootbuilder revisit default	decide commit persist branch default overridden system property typical pattern jcr persist batch node translate change packageimportit jcr property index commit hook	['performance']	1	4	Closed
13033612	OAK	3114	test failure address use	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure']	3	1	Closed
13108896	OAK	3114	implement support disable index replace new index	upgrade case application old index type set disabled new index provision new index async time reindex till query use old index end traverse repository avoid scenario mark old index disabled new index reindex	['docs-impacting']	3	2	Closed
12824211	OAK	3114	refactor optimize logic path include exclude avoid duplication	observationmanagerimpl optimize method process list include exclude remove redundant clause logic index filtering getting duplicate go forward need refactor logic place use copy possibly make pathutils suggest optimize optimise remove entry subsume include include	['technical_debt']	4	4	Closed
12862325	OAK	3114	boost field work expect	boost support add intention support usecase like quote fulltext search node fulltext content derive multiple field possible boost specific text contribute individual field mean title field boost description title fulltext field mean description fulltext field quote enable user perform search like root content geometrixx outdoor contain result page have keyword title come search result compare keyword find description current implementation set boost add field value fulltext field intention lucene use boost explain work like boost value get multiplie field boost work expect	['doc-impacting']	3	1	Closed
13099592	OAK	3114	provide list bundle node give documentnodestate	need know bundle nodestate give parent purpose provide follow method documentnodestate code public iterable getbundlednodesstate code	['bundling']	4	4	Closed
12729658	OAK	3114	add command dump lucene index oak console	add command oak run console dump lucene index provide stat relate lucene index	['console']	4	2	Closed
13035392	OAK	3114	test failure	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile integrationteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile integrationteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure', 'ubuntu']	3	1	Closed
12845482	OAK	3114	asyncindexer fail filenotfoundexception throw copyonwrite logic	time copyonwrite report follow exception noformat warn asyncindexupdate async index update fail commitfailedexception fail close lucene index cause filenotfoundexception common frame omit noformat	['resilience']	3	1	Closed
13013458	OAK	3114	review support wildcard bundle pattern	bundle pattern currently support wild card pattern make powerful time cause issue misconfigure review aspect release determine feature need expose	['bundling']	3	3	Open
12818550	OAK	3114	mislead warn message local copy size different remote copy oak lucene copyonread enable	time follow warning see log noformat warn indexcopier find local copy index lockfactory index size local differ remote content read remote file noformat file length check provide weak check index file consistency case warning misleading index version task submit copy index file index update directory bind close read perform file locally create size different copying progress case logic ensure copy local file gets	['resilience']	4	4	Closed
12819638	OAK	3114	oak instance close executor create contentrepository creation	close executor create close close executor create pass outside recent thread	['ci', 'jenkins']	4	1	Closed
12829452	OAK	3114	log stat time spend extract text binary	issue like helpful collect stat time spend extract text binary purpose like add log text extraction	['tooling']	4	4	Closed
12827624	OAK	3114	log nodepropbundle bundle find	time migration follow exception see noformat cause nullpointerexception noformat happen nodepropbundle null give good add npe check loader	['resilience']	4	4	Closed
12783611	OAK	3114	repository upgrade shut source repository early	notice upgrade distinguish phase copy datum source apply editor index phase repository upgrader shut old repo allow clear memory resource second phase	['resilience']	3	4	Closed
12948663	OAK	3114	cache lucene index get corrupt case unclean shutdown journal rollback segmentnodestore	currently oak lucene support copy index file local file system copyonread feature setup observe index logic fail follow error noformat warn oak indexcopi index lucene found local copy crx author crx quickstart repository index lockfactory crx author crx quickstart repository index size local differ remote content read remote file warn oak indexcopi index lucene found local copy crx author crx quickstart repository index lockfactory crx author crx quickstart repository index size local differ remote content read remote file error oak indextracker fail open lucene index index lucene corruptindexexception codec header mismatch actual expect resource noformat size differ remote copy possible index file size different content compare modified time file oak see file system old oak noformat modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch true modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch false modify thu feb gmt osmodified feb mismatch false noformat setup system see rollback segment node store noformat crx crx feb crx crx feb crx crx feb crx crx feb crx crx feb crx crx feb crx crx feb crx crx feb crx crx feb noformat possible cause time early lucene index got update got create post update head revision segment store update revision journal log lucene copyonread logic get event change copy file system crash journal get update system restart entry journal system suffer datum loss index checkpoint move checkpoint got revert index start early state create file copyonread detect file length change log warning routing remote file like create commit size likely different content later cause lucene query start fail case restart clean exist index content bring system normal state fix need come sanity check time system startup	['resilience']	2	1	Closed
12831661	OAK	3114	datastoreblobstore expose buffer input stream getinputstream	datastoreblobstore directly expose inputstream wrap datastore case underlie datastore expose lazyfileinputstream buffer performance reason stream finally expose blobstore layer buffer discussion	['performance']	4	4	Closed
12821795	OAK	3114	remove nullable annotation predicates backgroundobserver	code public int getlocaleventcount return new predicate public boolean contentchange input return null public int getexternaleventcount return new predicate public boolean contentchange input return null code method probably check input null access	['technical_debt']	3	1	Closed
12706142	OAK	3114	filedatastore inuse map cause contention concurrent env	currently synchronize map time cause contention concurrent env map support blob logic oak map content fix set inusemap guava cache map weak key value set inusemap map call ignore modify fds disable use inusemap usesidentifier protect proper fix temp workaround untill fds gets fix	['concurrency']	4	4	Closed
12787023	OAK	3114	troublesome	default tostring tree implementation calculate string contain path tostring property name child tree prone cause trouble case tree plenty property child strongly recommend review tostring tree meaningful cheap	['technical_debt']	3	4	Closed
12958002	OAK	3114	use nodestore local cache remote document store	documentnodestore make use persistent cache speed processing save make remote call datum present cache addition look use segment nodestore kind local copy certain path repository route call possible task like prototype approach high level work start bootstrap setup shutdown use modified sidegrade copy nodestats document store segment store copy store document specific property like readrevision lastrevision hide property segment nodestates documentnodestore refactor current code extract abstractdocumentnodestate abase class logic documentnodestate segmentdocumentnodestate extend delegate call wrap segmentnodestate documentnodestate extend abstractdocumentnodestate delegate call parent come getchildnode check serve local copy segmentnodestore give rootrevision delegate update plan use observer listen change update local copy certain configure path key aspect address handle restart case cluster specific node restart time refresh usage follow osgi config need seed noformat secondary noformat noformat noformat setting documentnodestoreservice gets start pickup cache use change includedpath depend path repository want include secondary store feature doc	['secondary-nodestore']	3	2	Closed
12737509	OAK	3114	mbean provide consolidated cache stat	currently documentnodestore different type cache register mbean well understanding overall cache usage good consolidatedcachestatsmbean depict stat tabular form	['monitoring']	4	4	Closed
12773538	OAK	3114	flag document have child	current documentmk logic perform diff child node work child revision upto default note current logic fetch child node add child nodedocument document cache read complete document child child revision limit child list complete direct diff fetched child list complete number child threshold query base diff case number child large work waste avoid mark parent node child special flag like manychildren node mark diff logic check flag skip work kind similar way mark node child	['performance']	3	4	Resolved
12819945	OAK	3114	change default cache distribution ratio persistent cache enable	default cache memory documentnodestore distribute follow ratio nodecache childrencache docchildrencache diffcache documentcache give rest late find persistent cache enable lower cache allocate document cache reduce time spend invalidate cache entry periodic read far follow ration setup turn documentcache give rest use distribution default persistent cache find enable	['performance']	3	4	Resolved
12979401	OAK	3114	fail branch unknown fixture	failure cause add fixture matrix exit branch illegalargumentexception enum constant discussion	['ci', 'build', 'jenkins']	3	1	Closed
12820275	OAK	3114	use non unique pathcursor lucenepropertyindex	lucenepropertyindex currently use unique pathcursor cursor maintain memory set visit path grow big result size big cursor traverse completely current impl path duplicate avoid unique cursor	['resilience']	4	4	Closed
12916181	OAK	3114	partial index know good state	atm index break circumstance user need perform index depend size repository long time user know index good state certain revision past useful user trigger partial index content add certain revision update index	['resilience']	3	2	Open
12989714	OAK	3114	specify thread pool async indexing task	run oak sling rely sle scheduler ensure async indexing task run leader specified frequency default sling scheduler use default pool manage task happen number task hight lead default thread pool get exhaust cause async indexing delay ensure async indexing affect scenario use dedicated thread pool support	['docs-impacting']	4	4	Closed
12975788	OAK	3114	optimize revisionvector method	revisionvector critical path look optimze critical method	['performance']	4	4	Closed
12822289	OAK	3114	improve system resilience case index corruption	issue case async lucene index get corrupt index unusable option index problem ongoing query rely index indexing original index corrupt query lead load system traversal afair wonder improve system resilience situation thing think maybe fallback know non corrupted index state index run load new incoming query	['resilience']	3	4	Open
13013457	OAK	3114	review security aspect bundle configuration	config node bundle feature documentnodestore currently store jcr system rep documentstore bundlor task mean review access control aspect config updatetable system admin config writeable jcr api	['bundling']	3	3	Open
12960635	OAK	3114	provide way abort async indexing run	case user tweak indexing config happen save config mid way trigger long indexing run currently easy way abort run way avoid waste time long indexing cycle shut system case good provide abort operation indexstatsmbean user invoke abort run safely cleanly	['docs-impacting']	3	4	Closed
12990274	OAK	3114	define oak resource nodetype non referenceable alternative resource	case code use lead creation content structure noformat file jcr content resource jcr datum noformat usage resource file node create entry uuid index resource referenceable system file node entry index uuid case file create file referenceable nodetype defn file mandate requirement jcr content resource support non referenceable file define new nodetype similar resource non referenceable related discussion	['docs-impacting']	3	4	Closed
12751610	OAK	3114	copyonwritedirectory implementation lucene use indexing	currently lucene index write directly oakdirectory reindex case happen lucene merge policy read write index file perform sgement merge low performance oakdirectroy write remote storage instead implement copyonwritedirectory similar line copyonreaddirectory support copy index locally fast access high level flow write index index file write local directory write locally file write write asynchronously oakdirectory indexwriter close wait untill write complete need benchmarke exist reindex timing actually beneficial	['docs-impacting', 'performance']	3	2	Closed
12818886	OAK	3114	indexcopier fail delete old index directory reindex	indexcopier try remove old index directory incase reindex fail platform like windows file memory map lock delete directory need similar approach like delete old index file retrie later follow test fail windows noformat test run failure error skip time elapse sec failure indexcopiertest time elapse sec failure assertionerror old index directory remove method noformat	['resilience']	4	1	Closed
13033355	OAK	3114	skip processing queue change async index update detect externalindexobserver	externalindexobserver currently back queue wrap backgroundobserver currently process change receive queue processing take long time possible lag async indexing cycle externalindexobserver busy indexing change async indexing indexing change upto indextracker new index version case work externalindexobserver waste optimize ensure externalindexobserver lastindexto async late entry queue new processing skip process queue entry free space queue	['performance']	3	4	Open
13032769	OAK	3114	test failure	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure', 'ubuntu']	3	6	Closed
12652187	OAK	3114	enable stat cache oak default	well picture usage cache helpful enable guava library wiki cache oak code java nodecache code enable allow stat like noformat noformat stat collection add minor overhead look make setting configurable untill expose stat jmx extract value sling env approach mention	['monitoring']	4	7	Closed
13096992	OAK	3114	lucene index include exclude key pattern list	similar lucene index case property index contain node update slow right filter node mixin type path include exclude include exclude list value pattern useful example property status run query condition status active nod status inactive need index	['docs-impacting']	3	4	Closed
12715494	OAK	3114	document oak clustering	cluster page oak documentation currently placeholder great initial pointer think	['documentation']	3	3	Open
13018193	OAK	3114	journal diff work change bundle node	change bundle node diff report change property bundle node	['bundling']	3	1	Closed
12823779	OAK	3114	save lucene directory listing array property	oakdirectory time perform directory listing specially time opening index documentnodestore listing child node slow lot delete node clear far see lucene create delete lot file speed lookup oakdirectory save listing child nod array property writer close	['performance']	3	4	Closed
12832953	OAK	3114	oak jcr bundle usable standalone bundle	currently oak jcr bundle need embed bundle oak need properly configure osgi env need revisit aspect need enable oak properly configure require oak jcr bundle embed repo	['modularization', 'osgi', 'technical_debt']	3	4	Closed
12828314	OAK	3114	copyonreaddirectory mode delete valid local file close	copyonreaddirectory currently delete local file find remote close list remote file fix give revision list local file vary indextracker open new indexnode update close old copyonread enable happen local directory use wrapper directory time introduce race condition removedeletedfile method time invoke new wrap directory start add new file file include listing local directory cause delete find remote directory pin old revision lead follow exception noformat cause filenotfoundexception crx quickstart repository index file directory method method noformat fix list local file maintain progress copyonread instance gets create ensure pick file add directory close	['resilience']	3	1	Closed
13038747	OAK	3114	improve indexing resilience	group improvement indexer resilience issue easy tracking	['resilience']	2	15	Open
12831411	OAK	3114	avoid access binary content mimetype exclude index	currently recommend way exclude certain type file get index add emptyparser tika config look tika work mimetype provide metadata tika detector try determine mimetype actually read byte inputstream look pass metadata cause unnecessary case large number binary exclude need look way access binary content index avoid option expose multi value config property take list mimetype exclude indexing mimetype provide jcr datum exclude list tika avoid	['performance']	4	4	Closed
12767690	OAK	3114	segmentnodestoreservice prone deadlock	segmentnodestoreservice prone deadlock way synchronize access segmentnodestore delegate issue see deactivate deregistration synchronously broadcast refer service call getnodestore deadlock happen code find java level deadlock wait lock monitor object segmentnodestoreservice hold event dispatcher fire configurationevent pid segmentnodestoreservice event dispatcher fire configurationevent pid segmentnodestoreservice wait lock monitor object object hold wait lock monitor object segmentnodestoreservice hold event dispatcher fire configurationevent pid segmentnodestoreservice java stack information thread list wait lock segmentnodestoreservice source method event dispatcher fire configurationevent pid segmentnodestoreservice wait lock object method method lock segmentnodestoreservice method wait lock segmentnodestoreservice method lock object find deadlock code	['resilience']	1	1	Closed
13107951	OAK	3114	provide way persistent cache determine node cache	currently persistent cache enable node cache node access system well configure cache node volatile caching effective purpose issue provide extension point persistentcache logic check node cache provide impl rely static osgi config determine later impl dynamic rely access pattern cache imp stuff	['doc-impacting']	4	4	Closed
12827602	OAK	3114	test failure osgiit	osgiit test fail silently fail build test pass code run osgiit main info defaultexamsystem pax exam system version create main info proberunner create paxexam runner class osgiit main info proberunner run test class osgiit error lucene activate method throw exception nullpointerexception index directory determine index directory path localindexdir repository home define method code	['ci', 'jenkins']	2	1	Closed
12930078	OAK	3114	lucene index compatversion search abc work	lucene fulltext index compatversion follow query return result compatversion correct result return noformat select unstructured description abc noformat compatversion search abc work search instead contain work	['docs-impacting']	3	1	Closed
12757647	OAK	3114	switch default indexformatversion	add support indexformatversion compatible exist luceneindex compatible new index implemention work implementation stable switch default version fresh index override compatmode	['performance']	3	3	Closed
12944433	OAK	3114	allow use pre extrcate text cache incremental indexing	pre extraction support implement assumption big indexing happen reindex reindex phase reason avoid incremental indexing non reindex case incremental index text newly add file check pre extract cache useful preextraction logic keep memory state unnecessary hog memory case people use new incremental migration feature upgrade lead big incremental indexing step migration able use pre extraction support fix provide policy option ignore reindex clause admin setting	['docs-impacting']	4	4	Closed
12975125	OAK	3114	optimize revison fromstre tostre implementation	current implementation revision fromstring tostring use std jdk api perform string manipulation run performance test see method call frequently add decent time generate bit short live object worthwhile perform micro benchmark method optimize perform well generate garbage micro optimize code bit complex performance number well look change current implementation	['performance']	3	4	Closed
12830925	OAK	3114	add support generate mongo export command oak mongo	time analyse issue documentnodestore run mongo need dump document recreate scenario locally case issue observe specific path like sufficient mongo document split document path useful function oak mongo generate require export command path like follow export command dump require info noformat mongoexport node noformat	['tooling']	4	4	Closed
12742399	OAK	3114	kill node stop async index update minute tar storage	kill node run sync index update async index update run minute lease time set minute think lease time small example minute maybe second need well document issue addition warning log file non cluster case away lease time case indexing paused restart post abrupt shutdown	['resilience']	3	4	Closed
12616917	OAK	3114	remove export package mongo bundle	oak mongomk bundle currently export couple package require export export remove	['osgi']	4	3	Resolved
12782058	OAK	3114	use buffer variant indexinput indexoutput	lucene provide buffered variant indexinput indexoutput currently oak extend class directly well performance itshould extend buffered variant discuss jira browse	['performance']	3	4	Resolved
12830649	OAK	3114	support migration access datastore	migration currently involve access datastore configure complete migration actual binary content datastore access migration logic make use dataidentifier file length gets encode blobid fast beneficial allow migration actual access datastore serve benefit allow test migration local setup copy tarpm file zip follow file go repository startup avoid have direct access datastore noformat crx quickstart tar repository repository repository datastore repository repository index repository workspace index repository tarjournal noformat provide fast repeatable migration access datastore avoid case like slow give solve length proposal datastore implementation provide mapping file have entry blobid length file answer query length exist blob avoid actual access datastore go datastore configure delegate fallback case require detail present pre compute datum set change content datum compute	['docs-impacting', 'performance']	3	2	Closed
13005064	OAK	3114	remove usage tree luceneindexeditor	luceneindexeditor currently create tree instance determine indexrule highlight list avoid remove usage tree api early simplify future support conditional rule need access ancestor possible nodestate api go rid tree construction editor	['performance']	4	4	Closed
12696503	OAK	3114	offline tool repair mongomk document	case document semantic mongo create oak corrupted point oak come anymore mongodb available mechanism fix inconsistency course use mongo tool like cmdline mongohub manually automate approach preferable medium term	['production', 'resilience', 'tools']	4	4	Closed
12849611	OAK	3114	lucene version base indexformatversion	currently oak lucene lucene pass version hardcode version enable easy upgrade lucene change default fresh setup version instead base indexformatversion indexformatversion set current default lucene version indexformatversion set propose lucene version lucene library version index reindexe automatically update late revision	['technical_debt']	3	7	Open
12603584	OAK	3114	microkernelservice set metatype true easy configuration	microkernelservice currently use annotation enable metatype metatype enable simply configuration home directory	['osgi']	4	4	Closed
13037570	OAK	3114	reduce lookup oak index node change node	currently indexupdate lookup oak index node change node pickup index definition create indexeditor base index content subtree lookup result extra remote call documentnodestore base setup non leaf node nodestore check remote storage determine oak index node present lookup avoid have editor add hide property oak index present parent node addition oak index child node indexupdate lookup oak index node hidden property find upgrade logic use nodetype index identify node mark discussion oak dev	['performance']	3	4	Open
12841567	OAK	3114	remoteserverit test fail server	test remoteserverit time fail server follow exception noformat error message jenkin jenkin slave workspace jdk label ubuntu nsfixture profile unittesting oak remote target test class org apache jackrabbit oak remote http handler file directory stacktrace filenotfoundexception jenkin jenkin slave workspace jdk label ubuntu nsfixture profile unittesting oak remote target test class org apache jackrabbit oak remote http handler file directory method noformat	['ci', 'jenkins']	4	1	Closed
12747934	OAK	3114	fix intermittent failure jaasconfigspitest	intermittent failure window observe jaasconfigspit follow exception noformat test run failure error skip time elapse sec run jsonconfigrepfactorytest noformat	['ci', 'buildbot', 'test']	4	3	Closed
12858273	OAK	3114	improve indexing resilience	discuss bilaterally group improvement indexer resilience issue easy tracking	['resilience']	2	15	Resolved
13100831	OAK	3932	test failure externalprivatestoreit	noformat test run failure error skip time elapse sec failure externalprivatestoreit externalprivatestoreit time elapse sec error runtimeexception error occur obtain inputstream blobid cause ioexception datastoreexception record exist cause datastoreexception record exist noformat specific windows	['cold-standby']	1	1	Closed
13013225	OAK	3932	setpropertyt benchmark fail segment tar	setpropertytest fail oak segment tar noformat invaliditemstateexception item exist anymore noformat	['test-failure']	4	1	Closed
13101940	OAK	3932	cold standby fail loudly big blob timely transfer	change currently sync blob cycle trigger test scenario primary file store new big blob add standby sync trigger sync content secondary file store sync blob cycle happen result process call new blob request create client server start send chunk big blob time need transfer entire blob server client exceed readtimeoutms illegalstateexception correctly throw swallow catch clause second sync blob cycle trigger succeed readtimeoutms fail readtimeoutms blob sync standby happen server continue send remain chunk illegalstateexception throw sync blob cycle consequence sync blob cycle delete temporary file chunk spool client fail windows example specifically way instead delete previous incomplete transfer new chunk second sync blob cycle add blob persist blob store client size initial blob send server	['cold-standby']	2	1	Closed
13093446	OAK	3932	investigate cold standby memory consumption	investigation time ago heap need transfer blob blob addtestcontent investigation allocate huge byte heap introduce chunk transfer blob primary standby way memory need sync big blob chunk size solve way test datum create possible transfer big blob memory	['cold-standby']	4	3	Closed
13029134	OAK	3932	clarify directory usage segmentnodestoreservice	segmentnodestoreservice directory getrootdirectory getdirectory getbasedirectory documentation intention think clarify document consolidate	['technical_debt']	3	3	Closed
12948120	OAK	3932	replace place journal	instead write current head revision file integral node state demonstrate good heuristic reconstruct lost journal add right annotation root node state replace current approach problematic rely flush thread properly timely update	['resilience']	4	2	Open
13101964	OAK	3932	responsedecoder check length receive blob match length sent blob	explain case delete previous spool file fail windows new duplicate content add hood old file way persisted blob match content original send server improvement allow decoding continue old spool file delete need replace throw exception wrong happen ensure spool file size original blob solve problem check sufficient chunk receive individually check hash append spool file single thread nature client ensure race new thread start append new content length check pass happen	['cold-standby']	3	4	Closed
13045682	OAK	3932	tarmk implement tooling repair broken node	oak run check determine good revision repository use manually roll corrupted segment store complementary implement tool roll forward broken revision fix new revision tool need detect item affect corruption replace item marker repository bring online marker identify location tree manual action need	['production', 'technical_debt', 'tooling']	3	2	Open
13045336	OAK	3932	test failure	jenkins windows failure build oak win windows slave windows jdk jdk unlimited security bit windows nsfixture profile integrationteste fail fail run oak win windows slave windows jdk jdk unlimited security bit windows nsfixture profile integrationteste job oak win windows jdk nsfixture profile console job oak win windows jdk nsfixture profile console	['test-failure', 'windows']	3	1	Closed
12702108	OAK	3932	expose filestorebackuprestorembean support nodestore	nodestore implementation expose filestorebackuprestorembean order interoperable repositorymanagementmbean	['monitoring']	3	4	Closed
13116579	OAK	3932	provide way tune inline size store binary	segmentnodestore currently inline binary size segment external blobstore configure behaviour bit segment tar storage consist blob datum setup segmentstore size inlined binary binary content move blobstore allow repository work well less ram useful way provide disable default behaviour let blobstore control inline size presence blobstore inlining attempt segmentwriter	['performance', 'scalability']	3	4	Closed
13046007	OAK	3932	remove deprecated oak segment module	oak segment module deprecate remove entirely remove module remove fixture pertain remove reference documentation need open question deal tooling oak segment maintain trunk require class maintain tooling branch new feature tooling	['deprecation', 'technical_debt']	4	3	Closed
12948139	OAK	3932	reclaim size report	current implementation simply report difference repository size cleanup size cleanup cleanup run concurrently commit size increase contribute account extreme case cleanup reclaim result negative value report change wording respective log message speak size adjust calculation reclaimed size preferred	['cleanup', 'gc']	4	1	Closed
13126821	OAK	3932	update documentation cold standby	improve monitor section cold standby oak doc include miss mbean screenshot add benchmarking section cold standby page cover bit way use new oak segment tar cold fixture run scalabilitystandbysuite	['documentation']	3	20	Closed
13125830	OAK	3932	segment tar cold fixture option secure communication shot run	newly introduce segment tar cold fixture support secure communication primary standby option current implementation allow continuous sync primary standby possible allow shot run sync easily measure compare specific metric option	['cold-standby']	4	4	Closed
13240824	OAK	3932	oak run check expose repository statistic good revision	oak run check expose head node property count good revision currently log end check operation noformat checked node	['tooling']	4	4	Closed
13027471	OAK	3932	check command overload meaning deep option	option accept check command semantically overload flag enable deep content traversal way specify frequency debug message print tool option split particular retain behaviour flag deep traversal new command line option introduce specify interval debug message	['tooling']	4	4	Closed
13520555	OAK	3932	bump netty dependency	vulnerability stackoverflowerror raise parse malforme craft message infinite recursion	['cold-standby', 'vulnerability']	3	3	Closed
13100178	OAK	3932	replace standby blob chunk size configuration feature flag	remove osgi configuration replace feature flag rational expect customer rarely change justify additional configuration complexity test overhead	['cold-standby', 'configuration']	3	4	Closed
13218575	OAK	3932	cold standby server handle blob request long blob ids	standby client issue request binary large byte fail server current frame limitation set byte noformat warn exceptionhandler exception catch server toolongframeexception frame length exceed allow maximum segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment noformat	['cold-standby']	3	1	Closed
13046916	OAK	3932	compressed segment	interesting effect compress segment tar file sufficiently effective performant compression algorithm increase overall throughput trade cpu scale big repository number node squeeze segment push onset thrash good compression algorithm library optional migration compatibility issue	['scalability']	3	2	Open
13095635	OAK	3932	getblobresponseencod write chunk	getblobresponseencoder write fast chunk leave channel writable state write problem visible glance especially small blob testing increase blob size reveal problem trigger hide outofmemory error server client incomplete blob send interpret client valid elegant solution solve memory consumption problem use chunkedwritehandler employ complex logic write chunk chunkedwritehandler conjunction custom chunkedinput implementation generate header payload chunk inputstream currently way server send chunk previous consume client	['cold-standby']	3	4	Closed
13327862	OAK	3932	bump netty dependency	current version present vulnerability issue	['cold-standby']	3	3	Closed
13149438	OAK	3932	segmentnodestorestat expose stat previous minute thread group	current commitscountperwriter stat expose segmentnodestorestat hard follow writer time improve coarse grain version metric add commit record group thread group configurable represent regexe match individual thread name additional group group thread match define group regexe current behaviour split commitscountotherthreads expose snapshot thread currently group commitscountpergroup expose aggregate commit count thread group previous minute metric reset minute	['tooling']	4	4	Closed
13131603	OAK	3932	update documentation oak run check	review update documentation oak run oak docs nodestore segment include new option	['documentation']	3	3	Closed
12996938	OAK	3932	cleanup create new generation tar file remove segment	deployment see tar file hight generation post fix log file deduce particular tar file rewrite multiple time actually segment remove assume cause gain threshold take size contribute index graph entry account attached test case verify hypothesis	['cleanup', 'gc']	4	1	Closed
13048893	OAK	3932	cold standby allow syncing blob big	currently limitation maximum binary size byte sync primary standby instance match integer byte binary big limit sync instance comment current protocol need change allow send binary chunk surpass limitation	['cold-standby']	4	4	Closed
13095632	OAK	3932	update netty dependency	take account improvement list individual issue solve current netty version release propose bump netty version late	['cold-standby']	4	4	Closed
13047961	OAK	3932	evaluate utility repositorygrowtht benchmark	repositorygrowthtest benchmark make use deprecated segmentfixture remove old oak segment module code associate repositorygrowthtest remove value adapt work new segmenttarfixture	['benchmark']	4	3	Resolved
12949107	OAK	3932	replace commit semaphore segment node store scheduler	segmentnodestore currently use semaphore coordinate concurrent commit rely scheduling algorithm implementation ultimately jvm order commit process think beneficial replace semaphore explicit queue pende commit allow implement proper scheduler optimise minimal system load maximal throughput minimal latency etc scheduler precedence big commit order commit order base revision decrease work rebase	['operations', 'performance', 'scalability', 'throughput']	3	2	Closed
13155694	OAK	3932	oak run compact support azure segment store	oak run compact accept azure uris segment store order enable offrc azure segment store option connection connection url connect azure container container root path segment store azure uri take argument following format container repo identify cloud provider miss piece secret key supply environment variable	['tooling']	3	4	Closed
13102497	OAK	3932	create complex cold standby	moment integration test cold standby scenario test content create server include binary standby sync cycle start content check client twist data store store binary good model extend cover case example standbydiff cover follow case node property add change delete scenario describe removal test change cover test nice add content server sync remove content sync onrc way case cover include cleanup work expect client	['cold-standby', 'technical_debt', 'test']	3	3	Open
13328580	OAK	3932	fix osgi wire netty update	netty update osgiit fail follow exception code error bundle segment tar error start folder bundle segment bundleexception unable resolve segment tar miss requirement segment tar unresolved requirement segment tar bundleexception unable resolve segment tar miss requirement segment tar unresolved requirement segment tar code	['cold-standby']	3	1	Closed
13212224	OAK	3932	cause segmentnotfoundexception standby	persist segment transfer master cold standby need read binary reference segment usually involve additional read segment special case concern binary ids large byte live segment got transfer prior current segment standby case binary store segment happen trigger new read current persisted segment segmentnotfoundexception throw noformat error standby standbyclientsync fail synchronizing state segmentnotfoundexception segment find segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment segment	['cold-standby']	3	1	Closed
12997573	OAK	3932	snfe throw test run concurrently write	segmentnotfoundexception throw time time following scenario plenty concurrent write create byte blob interrupt cleanup stack trace include debug statement add code java pre cleanup reader cleanup reader dulceanu work test repo initial size cleanup reader dulceanu work test repo cleanup size final size exception thread segmentnotfoundexception copy record generation cause segmentnotfoundexception segment find cause executionexception illegalstateexception invalid segment format dumping segment cause illegalstateexception invalid segment format dumping segment code	['cleanup', 'gc']	3	1	Closed
13216958	OAK	3932	cold standby client correctly handle backward reference	logic flaw come backward reference suppose follow datum segment graph transfer primary reference reference correct transfer order go current logic employ method happen noformat step step step step end loop order segment transfer trigger segmentnotfoundexception process miss standby	['cold-standby']	3	1	Closed
13153315	OAK	3932	introduce segmentnodestoremonitorservice expose writergroup osgi config property	useful expose writergroup segmentnodestorestat osgi config property low level configuration relate monitoring add segmentnodestoreservice newly create service segmentnodestoremonitorservice handle expose monitor related stuff	['tooling']	4	4	Closed
13102284	OAK	3932	refactor standbydiff well clarity understandability	standbydiff make use logonly property decide act node property change official documentation logonly state help quote read traversal diff property log content change second drill properly level miss binary need quote use bit misleading standbydiff subsequent call implement standbydiff mechanism result well clarity maintainability minor improvement rename binarycheck method readbinary fetchbinary fetchandstoreblob appropriate purpose	['cold-standby']	4	4	Closed
12993517	OAK	3932	align gcmonitormbean mbean new generation base	gcmonitormbean mbean date old oak segment need review endpoint sense oak segment tar adapt necessary add functionality require specifically think rid time series getrepositorysize getreclaimedsize getrepositorysize confusing change lead caller think return current size repository oppose size cleanup	['production']	3	3	Closed
13116641	OAK	3932	cold standby performance regression segment caching	change segment cache introduce introduce performance regression primary case standby attach benchmark duration comparison primary standby segment cache change change basicwritetest min max oak segment tar oak segment tar oak segment tar basicwritetest min max oak segment tar oak segment tar oak segment tar	['cold-standby', 'performance', 'scalability']	3	1	Closed
13136571	OAK	3932	remove deprecated deep option check command	enable deep traversal default check command time deprecate option happen logical step remove option altogether	['tooling']	4	4	Closed
13020468	OAK	3932	backup incremental previous tar file duplicate	perform backup directory size increase delta size exist tar file lead conclusion backup incremental	['operations', 'production', 'tooling']	4	4	Open
13105674	OAK	3932	standby server send timely response client request	currently getxxxrequesthandler xxx stand blob head references segment server discard client request satisfied request object exist server transparent approach timely respond client request clearly state object find improve lot debug example request response easily follow client log need know actually happen server possible implementation getheadrequesthandler suggest comment noformat string null return noformat	['cold-standby']	4	4	Open
13039208	OAK	3932	allow filter path check command	good check command allow filter content path help quickly identify good revision specific broken node case large repos	['tooling']	3	2	Closed
13381686	OAK	3932	cold standby ssl certificate configurable	cold standby able ssl connection primary currently fly generate certificate mean datum transfer encrypt connection protection man middle issue want server client certificate configurable optionally validate client certificate optionally allow matching subject client server certificate	['cold-standby']	3	4	Closed
13099813	OAK	3932	add new segment tar fixture attach cold standby benchmarked primary	fixture choose cold standby instance start sync primary second benchmark specify testcase argument run primary instance statistic report link primary work similarly oak segment tar dedicated option like data store data store data store	['cold-standby']	4	4	Closed
13040675	OAK	3932	check command deep traversal default	check accessibility root node sense file store automatically roll startup root revision accessible term traversal interesting restrict path aka option accept failure specify explanation traversal regardless option print	['tooling']	4	4	Closed
13045164	OAK	3932	consistency check incorrectly fail broken partial path	well explain bug describe content revision valid revision add child node property blob include invalid revision add child node blob property corrupt node record holding consistency check run correctly detect second revision break mark path corrupt continue check valid revision check introduce try validate user provide absolute path check checker try check revision course find check incorrectly fail revision	['tooling']	3	1	Closed
13301237	OAK	3932	improve azure archive recovery startup	repository startup archive directory close properly recovery perform procedure segent copy backup directory delete source direcory create problem negativelly impact ongoing actiivtie access archive activity example repository clone order create new environment propose patch create backup delete segment archive segment recover api propose patch change major version export spi package	['patch']	3	4	Closed
13395812	OAK	3932	bump netty dependency	netty codec summary explanation netty codec package contain buffer overflow vulnerability finishencode function class incorrectly estimate buffer size write footer header attacker abuse behavior send payload flawed application overwrite contiguous memory chunk heap result denial service dos condition unintended behavior detection application vulnerable component recommendation recommend upgrade version component vulnerable specific issue note component include bundle transitive dependency component upgrade path instance recommend contact maintainer include vulnerable package alternatively recommend investigate alternative component potential mitigating control root cause netty handler codec compression advisory project	['vulnerability']	3	3	Closed
13137875	OAK	3932	improve segmentnodestorestat include number commit thread thread currently wait semaphore	investigate performance segment tar source write commit useful indicator cause well understand thread currently write repository block semaphore need improve segmentnodestorestat expose number commit execute thread expose thread currently wait semaphore	['tooling']	3	4	Closed
13085141	OAK	3932	add flag control percentile commit time scheduler	percentile commit wait time return current root order parametrise value percentile nice new feature flag set basically disable set different value interesting future experiment	['performance', 'scalability']	4	4	Closed
13112267	OAK	3932	segment tar cold fixture correctly set standby blob store	option segment tar cold standby instance end blob store configure	['cold-standby']	4	1	Closed
13104227	OAK	3932	improve cold standby resiliency incoherent config	order correctly configure cold standby osgi configuration need provide setting need standby need problem standbystoreservice standby segmentnodestoreservice lead start problematic standby instance primary behaviour enable indexing etc problem stem fact component configuration coordinate proposal mitigate merge configuration standbystoreservice segmentnodestoreservice eliminate standbystoreservice altogether standbystoreservice derive standby segmentnodestoreservice segmentnodestoreservice derive standby standbystoreservice backwards compare synchronization currently happen standbystoreservice wait proper initialisation segmentnodestoreservice standbystoreservice configuration mandatory require setting way removal standby segmentnodestoreservice guarantee synchronization component avoid	['cold-standby', 'resilience']	3	4	Open
13375040	OAK	3932	improve oak run compact well support azure compaction	currently oak run compact azure segment store compact source container place well allow compact source container different container allow skip source container cleanup order speed compaction azure compaction employ persistent disk cache path store segment size configurable	['tooling']	3	4	Closed
13098847	OAK	3932	bulktransferbenchmark oak benchmark module	bulktransferbenchmark move oak segment tar oak benchmark allow standard run cold standby related benchmark	['cold-standby']	4	3	Closed
13041330	OAK	3932	test coverage checkcommand	add test checkcommand order validate recent change introduce add remove option argument new feature introduce filter path refactoring thoroughly test order avoid regression	['tooling']	4	3	Closed
13235965	OAK	3932	oak run check option specify memory mapping	oak run check currently use memory mapping default build filestore setting configurable allow switch memory mapping	['tooling']	4	2	Closed
13171335	OAK	3932	segmentnodestore sidegrade support tarpersistence azurepersistence	azure support segment tar allow plug storage option segment store need compare local remote storage behave sidegrade local tar storage remote azure storage implement allow replicate exact repository content change underlie storage mechanism analogous azure segment store connection detail supply following format uri following format container repo identify cloud provider secret key supply environment variable	['azure', 'migration']	3	2	Closed
13281162	OAK	3932	access azure segment metadata case insensitive way	use azcopy copy segment azure blob container testing bug current version azcopy make metadata key start capital letter type type consequence current implementation find segment azure blob storage azcopy issue report little hope azcopy fix soon suggest patch oak segment azure backward compatible ignore case key read metadata strict write tolerant read	['azureblob', 'candidate_oak_1_22']	3	4	Closed
13101632	OAK	3932	standby server send persisted head client	currently standby server send persisted head record client normal circumstance tarmk flush thread able persist corresponding segment second interval case upload large blob flush thread write segment late allow server read segment contain head record timeout occur client	['cold-standby']	3	1	Closed
13027472	OAK	3932	check command define useless default value bin option	check command enable traversal binary property option user provide value option specify byte traverse binary value default value option zero effectively disable traversal binary property instead value property specify tool traverse binary property entirety value specify restrict byte traverse	['tooling']	4	4	Closed
12991135	OAK	3932	improve calculation	new approach calculate need method prone lock contention call step implement approach reduce lock surface size method simple create copy reader writer inside lock actual size calculation snapshot outside lock low size visibility package avoid misuse monitor tool remove approximatesize associate logic replace size	['resilience']	4	3	Closed
13027470	OAK	3932	check command accept path store positional argument	check tool require path store specify path pass tool require option way specify path store verbose good reason nice path segment store specify positional argument instead	['tooling']	4	4	Closed
13176090	OAK	3932	introduce oak run segment copy move segment different storage	need transform type segmentstore local tarmk exact counter persistence type azure segment store oak upgrade partially solve sidegrade gap final content level oak upgrade operate node store level result sidegrade repository contain possibly stale unreferenced datum original repository late head state effect result repository compact introduce new command oak run segment copy allow operate low level segment persistence deal construct journal file journal file archive archive entry way focus process translate segment persistence format care node logic store inside reference unreferenced node property	['tooling']	3	4	Closed
13102805	OAK	3932	sync big blob fail standbyserver send persist head	change place fail noformat externalsharedstoreit externalsharedstoreit time elapse sec externalprivatestoreit time elapse sec noformat partial stacktrace noformat debug main binding successful debug send request client bar current head debug client allow debug parsed head message debug message head receive client bar debug read head client bar warn exception catch server nullpointerexception null segment snapshot segment snapshot noformat	['cold-standby', 'resilience']	3	1	Closed
13174984	OAK	3932	refactor azurecompact compact	azurecompact oak segment azure follow closely structure logic compact oak segment tar thing differ underlie persistence remote azure local tar file common logic extract super class extend	['tech-debt', 'technical_debt', 'tooling']	3	4	Open
13131220	OAK	3932	race condition revision head compaction scheduler result skip commit	race condition run compaction try set new head scheduler execute specific commit compaction thread head assignment scheduler fail attempt imo simple statement change loop head refresh commit apply new head attempt set new head tarrevision similar previously unneeded optimistic pessimistic strategy involve token	['scalability']	1	1	Closed
13329558	OAK	3932	oak run explore support azure segment store	oak run explore accept azure uris segment store order able browse azure segment azure uri take argument following format container repo identify cloud provider miss piece secret key supply environment variable	['tooling']	3	4	Closed
12948135	OAK	3932	implement	prone lock contention call introduce approach track current size file store have lock promote official implementation wdyt	['resilience']	4	17	Resolved
13326424	OAK	3932	persistentrediscache failure write segment error	failure write segment redis cache result error level log message stack trace expect behaviour socket timeout prevent cache effectively slow request otoh socket timeout cache ineffective good way log error debug suggestion change log level debug avoid stack trace	['patch']	4	1	Closed
13144981	OAK	3932	commitstracker datum expose jmx	duplicate registration segmentnodestorestat segmentnodestore lockbasedscheduler end instance mbean gets expose jmx return table commitscountperwriter queuedwriters correctly track datum expose address stick instance segmentnodestorestat segmentnodestore lockbasedscheduler additional point address commitstracker need unit test commit count map size need configurable segmentnodestorestat	['tooling']	3	1	Closed
13172315	OAK	3932	oak run check support azure segment store	oak run check accept azure uris segment store order able check datum integrity come handy light remote compact segment store sidegrade remote segment store azure uri take argument following format container repo identify cloud provider miss piece secret key supply environment variable	['tooling']	3	4	Open
13017154	OAK	3932	remove old estimation osgi set	currently implementation find gain repository size run compaction old compactiongainestimate new sizedeltagcestimation similarly configuration customise segmentnodestoreservice moment expose osgi configuration new expose evaluate make sense logic associate old implementation	['osgi-config']	4	4	Closed
13081072	OAK	3932	oak run check check checkpoint	oak run check currently traverse check item checkpoint think change add option traverse checkpoint need mind interaction new feature filter option path pass option need prefix	['tooling']	1	4	Closed
13040625	OAK	3932	check command check deep option provide	check command option check traversal repository relevant line code check suppose happen mismatch argument expect argument provide null return check method actual check expect set path traverse set relevant code run check execute	['tooling']	3	1	Closed
13264800	OAK	3932	oak run check command return status repository consistency check	currently consistency check report command run successfully return code fail return code logic add status repository consistency check revision return revision consistent command run successfully return revision inconsistent job run successfully error exception encounter run check multiple revision return revision consistent job run successfully return revision consistent command run successfully error exception encounter run	['oak-run', 'segment-tar']	3	4	Closed
13041683	OAK	3932	simplify consistency check	current implementation consistency check cluttered unnecessary check deprecated argument check command deep traversal enable default code need revise account apply argument take option remove consistencychecker refactore order well distinguish path give revision check node property check node descendant check	['tooling']	3	4	Closed
13562333	OAK	3932	bump netty dependency	file artifact embed netty project contain follow version cvs high protocol contain flaw relate stream multiplexing feature allow excessive resource consumption server operate implementation protocol protocol allow client signal server cancel previously open stream send frame attacker abuse stream cancel ability open large number stream immediately follow frame implementation bypass concurrent open stream limit cause server spend processing time handle request frame perform stream tear down server operation pile attacker client pay minuscule bandwidth processing cost security security bulletin technical breakdown rapid reset ddo blog product identity security google cloud mitigate large ddo attack peak million report vulnerability exploit wild august october vulnerability list exploitable cybersecurity infrastructure security agency known exploited vulnerabilities know exploit vulnerability catalog	['vulnerability']	3	3	Closed
13041411	OAK	3932	check command accept non argument bin option check binary	currently option expect long argument length scan content binary property option simplify argument run check flag scan binary property include option scan binary matter size argument give failure warning display message display end consistency check change account binary property traverse	['tooling']	4	4	Closed
13062144	OAK	4399	cleanup block writer	refactoring move cleanup tar reader read lock block concurrent writer progress problem oak segment fix cleanup couple minute busy system establish behaviour	['cleanup', 'gc']	3	4	Closed
13070389	OAK	4399	illegalstateexception close filestore garbage collection	file store shut compaction properly abort trigger cleanup cycle run concurrently proceeding shutdown potentially cause ise noformat noformat	['gc']	3	1	Closed
13013452	OAK	4399	test failure brokennetworkt	machine brokennetworktest fail noformat fail test expect expect expect expect expect expect expect noformat stack trace similar noformat brokennetworktest time elapse sec noformat	['test-failure']	3	1	Closed
12976870	OAK	4399	release oak segment tar	tweak setup order able cut initial release oak segment tar perform release	['release']	3	3	Resolved
13113323	OAK	4399	background thread automatically restart	background thread filestore implement wrap runnable instance saferunnable hand saferunnable instance scheduledexecutorservice documentation state execution task encounter exception subsequent execution suppress saferunnable throw throwable catch effectively prevent execute future solution problem throw exception sense case outofmemoryerror throw exception well fulfil assumption background thread run case error	['resilience']	2	1	Closed
12768418	OAK	4399	oak api remote	container issue collect task relate remote oak api remoting stateless oak apart apparent persist state content repository independent oak jcr reuse jcr related plugin oak core require space node type handling agnostic protocol binding	['api', 'remoting']	3	3	Resolved
13115540	OAK	4399	log segmentstore size startup	useful log segmentstore size time startup filestore compute size initialize filestorestat need log size help customer report issue provide log file	['production']	4	4	Closed
12929232	OAK	4399	integration test different maven module	move segment store relate package bundle figure integration test contain oak core contribute cyclic dependency new oak segment bundle oak core dependency usage nodestorefixture instantiate different implementation nodestore semi transparent way test depend nodestorefixture likely integration test clean solution problem integration test new maven module reference api implementation module need	['modularization', 'technical_debt']	3	4	Closed
12960273	OAK	4399	update segment tooling choose target store	need add command line option segment specific tooling user chose oak segment oak segment oak segment default deprecate oak segment default	['tooling']	1	3	Closed
12832746	OAK	4399	review improve oak jcr repository setup	oak jcr builder class set oak jcr repository builder clear semantic life cycle individual component register requirement life cycle differ depend individual component run osgi container case container manage life cycle builder imo specify builder non osgi deployment manage life cycle component instantiate otoh osgi deployment leverage osgi subsystem properly set thing	['modularization', 'technical_debt']	3	4	Resolved
13009491	OAK	4399	miss blobgarbagecollection mbean standby instance	blobgarbagecollection mbean long available standby instance affect non shared datastore setup share datastore need run blob primary change introduce backporte branch	['gc']	3	1	Closed
12919998	OAK	4399	segment store bundle	epic track work segment store independent bundle detach oak core	['modularization', 'technical_debt']	3	15	Closed
13061396	OAK	4399	add tarfiles architecture diagram	newly create tarfiles add architecture diagram oak segment tar	['documentation']	3	4	Closed
12842186	OAK	4399	remoteserverit fail address use	remoteserverit fail address use possibly test setup need change use random available port noformat bindexception address use method noformat	['ci', 'jenkins']	4	1	Closed
12960367	OAK	4399	implement fixture run oak segment oak segment	need fixture run uts segment implementation oak segment oak segment ideally enable individually environment variable standard build run oak segment affect oak segment enable request locally deprecate oak segment switch default fixture oak segment	['testing']	1	3	Closed
13023742	OAK	4399	rid test dependency json parser		['legal']	1	3	Closed
12955262	OAK	4399	verbose log revision	log segment forward reference find include reference graph log information mb impact normal operation furthermore actually reclaim segment log make log file explode finally processing reference individual tar file wordy	['cleanup', 'gc', 'logging']	1	4	Closed
12902115	OAK	4399	replace backgroundthread scheduler	think replace background thread kind scheduler goal decouple thread schedule imo thread manage application container	['technical_debt']	3	17	Closed
13027713	OAK	4399	tarmkdiff command thing	tarmkdiff command actually combination command command activate flag specify list available revision segment store command option relevant option specify ignore second command proper logic tarmkdiff logic activate flag specify command option command line relevant logic list available revision segment store encapsulate command clutter cli tarmkdiff	['tooling']	4	4	Resolved
13115677	OAK	4399	unknown channel option channel warning cold standby	netty upgrade recur warning appear server thread noformat main warn serverbootstrap unknown channel option channel noformat need cause option remove late version yes substitute change need	['cold-standby']	4	1	Closed
12849891	OAK	4399	extend documentation segmentnodestoreservice	currently documentation document property property like customblobstore document extend good table extend type support individual property	['documentation']	3	17	Closed
13107238	OAK	4399	exception inhibit oak run compact	exception throw oak run compact inhibit exit code command correct case error example code java compact test oak apache jackrabbit oak compacting test oak default access mode thu oct cest thu oct cest thu oct cest manifest thu oct cest size byte compacting invalidfilestoreversionexception recent version oak segment tar thu oct cest thu oct cest thu oct cest manifest thu oct cest size byte remove file add file compaction succeed code quick fix wrap exception runtimeexception code oak segment tar src main java org apache jackrabbit oak segment tool oak segment tar src main java org apache jackrabbit oak segment tool public class compact implement runnable try compact catch exception throw new run compact code	['compaction', 'gc', 'tooling']	3	1	Closed
12831410	OAK	4399	repositoryimpl manage lifecycle contentrepository	repositoryimpl use instance contentrepository pass external dependency constructor repositoryimpl responsible creation contentrepository instance manage lifecycle particular method call method execute	['modularization', 'resilience', 'technical_debt']	3	7	Resolved
12821153	OAK	4399	oak builder change state repository creation	method change state builder invocation particular add new commithook observable behavior indexeditor instance execute twice oak jcr builder instance repository contentrepository need	['technical_debt']	3	7	Resolved
13063204	OAK	4399	assign meaningful name cold standby thread	easy understanding cold standby behaviour thread cold standby implementation assign human readable name	['cold-standby']	3	4	Closed
13181865	OAK	4399	checkcommand consistently use alternative journal specify	caller check command specify alternative journal option option instruct consistencychecker check revision store file instead one store default spot problem repository corrupted contain valid revision path filestore validate check existence specify folder exist user specify different journal command line check ignore second open filestore default scan determine initial revision head state user specify alternative journal command line journal instead default default journal contain valid revision force system crash open new instance filestore	['technical_debt']	3	1	Closed
13152910	OAK	4399	contribute proc subtree segment node store	guidance recently develop way expose segment node store internal information nodestate api concept similar spirit proc file system linux proc subtree expose internal information straightforward manner enable consumer rely understand api access datum proc subtree shelter tool variation internal api segment store long datum export proc subtree stable tool go work different version segment store minimal modification proc subtree develop branch francescomari jackrabbit oak tree proc create issue order review work far track contribution proc subtree oak	['tooling']	3	4	Closed
13062916	OAK	4399	test failure	jenkins failure build jackrabbit oak fail fail run jackrabbit oak job console job console error message code expect segmentnodestate segmentnodestate code stacktrace code assertionerror expect segmentnodestate segmentnodestate code standard output fail	['ci', 'flaky-test', 'jenkins']	3	1	Closed
13061466	OAK	4399	test failure	test fail run regression introduce code comparisonfailure expect clean generation file indicate expect actual code look	['gc', 'test-failure']	3	1	Closed
13098793	OAK	4399	improve resource management bulktransferbenchmark	bulktransferbenchmark improperly dispose test resource error condition occur improper resource tracking finalization benchmarkbase similar mistake bulktransferbenchmark	['cold-standby']	3	1	Closed
13113043	OAK	4399	compaction estimator compaction type tail consideration	currently compaction estimator unconditionally look growth repository compaction run turn optimal interleave tail compaction well estimator look growth repository compaction run compaction	['compaction', 'gc']	2	4	Closed
13172835	OAK	4399	revert change	change apply attribute correctly set cause repository write level directory hierarchy suppose	['osgi']	3	17	Resolved
12715514	OAK	4399	ise unexpected value record type throw fileblobstore	stacktrace show like code error osgiinstallerimpl packagetransformer error process install task illegalstateexception unexpected value record type code blob store configure correctly accord log correctly initialize code info felixstartlevel segmentnodestoreservice initializing segmentnodestore blobstore info felixstartlevel segmentnodestoreservice component activate ignore initialization info felixstartlevel filestore tarmk open crx quickstart repository segmentstore mmap true code circumstance length segmentblob invalid happen file blob store configure file datastore exception	['resilience']	3	1	Closed
12774256	OAK	4399	provide initial implementation remote operations specification	provide play verify feasibility specification draft initial implementation http api provide api follow general behavior describe jackrabbit frm remoteoperations http semantic define jackrabbit frm httpoperation	['api', 'remoting']	4	7	Closed
12907331	OAK	4399	depend guava	multiple dependency class export google guava bundle package independent google guava	['technical_debt']	3	4	Closed
13061085	OAK	4399	remove segment graph functionality oak run	probably remove segment graph functionality oak run implement mainly solely purpose analyse problem assume quickly start fall forward kind analysis switch oak mduerig script oak far flexible let decide close cut forward	['technical_debt', 'tooling']	3	4	Closed
13185131	OAK	4399	deadlock tarmk flush lucene	get follow deadlock help production environment annotate possible lock synchronize block noformat tarmk flush condat sling repository segmentstore wait lock org apache jackrabbit oak segment segmentid hold oak oak wait ownable synchronizer java util concurrent lock hold tarmk flush condat sling repository segmentstore thread state blocked compile frame synchronize compile frame byte int int compile frame int int compile frame inputstream byte int int compile frame inputstream byte int int compile frame inputstream byte compile frame compile frame compile frame segment int compiled frame segment int compile frame recordtype int compile frame compile frame segment tarwriter compile frame segmentid byte int int compile frame zeile bis populatetarbinaryreference compiled frame compile frame compile frame compile frame compiled frame callable compile frame callable compiled frame compiled frame compile frame compiled frame compile frame compile frame compile frame compile frame compile frame interpreted frame interpreted frame lock ownable synchronizer java util concurrent lock java util concurrent lock java util concurrent thread state blocked long compile frame information imprecise object compile frame compile frame interpreted frame compile frame compile frame compile frame compile frame segmentid callable compiled frame segmentid compile frame compile frame synchronize compile frame byte int int compile frame int int compile frame inputstream byte int int compile frame inputstream byte int int compile frame inputstream byte compile frame compile frame compile frame segment int compiled frame compile frame string nodebuilder string compile frame string nodebuilder string compile frame string compile frame boolean boolean compile frame compile frame indexcopier directory directory boolean string executor compile frame string indexdefinition directory string compile frame indexdefinition nodestate string string string compile frame indexdefinition nodestate string compile frame string nodestate nodestate luceneindexreaderfactory nrtindexfactory compile frame nodestate nodestate compile frame string nodestate nodestate compiled frame maprecord nodestatediff compile frame nodestate nodestatediff compiled frame string nodestate nodestate compile frame maprecord nodestatediff compile frame nodestate nodestatediff compiled frame editor nodestate nodestate compile frame nodestate compile frame nodestate compile frame compile frame compile frame compile frame compile frame compile frame compile frame lock ownable synchronizer java util concurrent noformat	['deadlock']	1	1	Closed
13029400	OAK	4399	improve code coverage oak segment tar	improve code coverage oak segment tar	['technical_debt']	3	4	Closed
12768421	OAK	4399	support continuable session	implement support continuable session keep state multiple client server interaction continuable session require additional state server oak apart form apparent repository state continue session client obtain continuation token current session token obtain new session instance base repository revision session token obtain additionally token contain information authentication subsequent request simplified authentication procedure work oauth help transient change support continuable session obtain continuation token session transient change result error continuable session typically short live time single http request specifically continuable session retain underlie repository revision garbage collect client need able cope respective exception	['api']	3	7	Resolved
12833739	OAK	4399	limit scope export package	oak currently export lot package oak probably leverage osgi subsystem export bare minimum outside world simplify evolution oak internal api current approach change api leak outside world oak osgi sub system deployment option client need deploy osgi container api actually mean export like jcr api time oak leverage osgi inside subsystem introduce idea	['modularization', 'osgi', 'technical_debt']	3	7	Resolved
13038925	OAK	4399	document tarmk design	improve documentation internal design tarmk currently single oak docs nodestore segment add high level class diagram description overall structure tarmk decide preference incorporate cover far segment segment segment rewrite clarify design section segment	['documentation']	3	17	Closed
12941339	OAK	4399	class export	class compactionstrategy compactionstrategymbean export public api multiple class interface type service register whiteboard	['technical_debt']	3	1	Resolved
13101295	OAK	4399	test failure see upgradeit	noformat run upgradeit apache jackrabbit oak true segmentnodebuilder segmentnodebuilder emptyhook segmentnodebuilder emptyhook commitinfo true null property property property property property property property property property property property property property property property property property property property property apache jackrabbit oak true segmentnodebuilder segmentnodebuilder emptyhook segmentnodebuilder emptyhook commitinfo true null property property property property property property property property property property property property property property property property property property property property apache jackrabbit oak true segmentnodebuilder segmentnodebuilder emptyhook segmentnodebuilder emptyhook commitinfo true null property property property property property property property property property property property property property property property property property property property property apache jackrabbit oak true segmentnodebuilder segmentnodebuilder emptyhook segmentnodebuilder emptyhook commitinfo true null property property property property property property property property property property property property property property property property property property property property test run failure error skip time elapse sec result fail test segment version mismatch expect find expect noformat	['test-failure', 'windows']	1	1	Closed
12819364	OAK	4399	npe call	busy site observe npe code gather information jcr event custom event handler	['observation']	3	1	Resolved
13006821	OAK	4399	miss export package	oak segment tar export make backup restore functionality unavailable osgi container instead export package think separate api implementation add semantic versioning export api	['api', 'osgi']	3	1	Closed
13006454	OAK	4399	document storage format change	issue serve collection change storage format introduce oak segment tar impact sufficiently stabilise information serve basis documentation oak doc change rational impact migration issue segment header unequivocally determine generation segment cleanup segment retention time give number generation default performance space impact expect node state efficiently determine equality node state see intermediate step decouple address record identity step introduce logical record id state increase size record byte byte additional block record byte node state index tar file traverse repository collect root dsgc fetch index instead index entry tar file add couple byte external binary tar file exact size determine help regression wrt resiliency cause change fact blob store return blob id long char record id precondition logical record id time simple possible fix lead degeneration segment size turn adverse effect overall performance resource utilisation memory requirement fix need fix different way require change storage format start regard issue remove premature optimisation cause otoh start look mitigation mean size simplicity performance id grow byte byte serialise record impact repository assess performance regression cause chance overall impact assess format versione order able evolve storage format minimal impact exist deployment need carefully version storage entity segment tar file etc performance space impact expect record ids need separate address record identity able scale tarmk online compaction misery see symptom fail understand early stable id introduce step direction sufficient implement feature like background compaction partial compaction incremental compaction small size overhead segment logical table impact evaluate add assessment plan index segment recreate tar file index corrupt missing recreate index startup crash overall disk space usage unnecessary backup file create plan place journal complexity line journal log file chance break granularity log increase flush persisted head require resilience improve roll functionality operate fine granularity better resiliency significant risk regression implement properly likely significant refactoring part code require proceed issue plan record type information currently available segment header collect statistic segment usage repository non trivial size fix allow build scalable tool respect expect wrt performance size normal operation plan wait implementation depend progress misc idea currently burner segmentmk arch segment extension header segment issue memory efficient serialisation value boolean issue protocol buffer serialise record issue	['documentation']	3	17	Resolved
13100179	OAK	4399	backup command silently upgrade filestore	backup command oak run accidentally perform transparent upgrade filestore instead use strict version check fail fast code run outdated version filestore	['production', 'resilience', 'tooling']	3	17	Closed
13002069	OAK	4399	improve filestorestatsmbean	add datum mbean feasible number commit number commit queue block commit semaphore percentile commit time exclude queueing time percentile commit queue time run size time take break phase	['monitoring']	3	4	Closed
13041595	OAK	4399	test failure	jenkins windows failure build oak win windows slave windows jdk jdk unlimited security bit windows nsfixture profile integrationteste fail fail run oak win windows slave windows jdk jdk unlimited security bit windows nsfixture profile integrationteste job oak win windows jdk nsfixture profile console job oak win windows jdk nsfixture profile console	['test-failure', 'windows']	3	1	Resolved
13113277	OAK	4399	offrc log number compact node	offline compaction contain number compact node cause instantiate new filestore run cleanup file store new gcmonitor instance node write compaction run previous filestore instance	['compaction', 'gc', 'tooling']	3	1	Closed
12773875	OAK	4399	root record reference provide little context parse segment	accord documentation root record reference segment header provide context parse record segment external information turn true root record reference turn list record item list record id unknown type record live segment parse know type	['tools']	3	1	Resolved
13096362	OAK	4399	fix osgi wire netty update	netty update osgiit fail follow exception code run osgiit error bundle segment tar error start osgi target test bundle oak segment bundleexception unresolved constraint bundle segment tar unable resolve miss requirement bundleexception unresolved constraint bundle segment tar unable resolve miss requirement code	['cold-standby']	3	1	Closed
13122808	OAK	4399	test failure	see internal windows jenkins node regression error message noformat value different actual root noformat stacktrace noformat assertionerror value different actual root noformat standard output noformat info main creating file store snapshot directory blobstore datastore back blobstore filedatastore memorymapping false gcoption false estimationdisable false gctype info main tarmk open mmap false byte debug main tar file debug main writing segment info main creating file store snapshot directory blobstore datastore back blobstore filedatastore memorymapping false gcoption false estimationdisable false gctype info main tarmk open mmap false byte debug main tar file debug main writing segment info main test begin testsyncfailingduetotooshorttimeout info main create segment node store datastore back blobstore filedatastore info main initializing segmentnodestore commitfairlock option enable debug main binding successful debug main writing segment debug main tarmk journal update null debug send request client current head debug client allow debug parsed head message debug message head receive client debug read head client debug send head client debug decode head response debug standby find miss segment debug standby inspecting segment debug send request client reference segment debug parsed reference message debug read reference segment client debug send reference segment client debug decode reference response debug standby found reference debug standby inspecting segment debug send request client reference segment debug parsed reference message debug read reference segment client debug send reference segment client debug decode reference response info standby copying datum segment primary debug send request client segment debug parsed segment message debug message segment receive client debug reading segment client debug segment size send client debug send segment client debug decoding segment response debug standby writing segment info standby copying datum segment primary debug send request client segment debug parsed segment message debug message segment receive client debug reading segment client debug segment size send client debug send segment client debug decoding segment response debug standby writing segment debug send request client blob debug parsed blob request debug message blob receive client debug read blob client debug binary size send client debug send blob client debug send chunk size blob client debug send chunk size blob client debug decoding blob response debug receive chunk size blob debug check append chunk disk debug send chunk size blob client debug decoding blob response debug receive chunk size blob debug check append chunk disk debug send chunk size blob client debug decoding blob response debug receive chunk size blob debug check append chunk disk debug send chunk size blob client debug decoding blob response debug receive chunk size blob debug check append chunk disk debug decoding blob response debug receive chunk size blob debug check append chunk disk debug receive entire blob debug standby processing input stream finish delete file debug standby tarmk journal update null warn exception catch client readtimeoutexception null info standby update head state successfully true debug standby channel close debug main group shut debug main channel disconnect debug main channel disconnect debug main boss group shut debug main worker group shut info main test end testsyncfailingduetotooshorttimeout debug main scheduler filestore background task successfully shut debug main head state change skip flush info main tarmk close debug main scheduler filestore background task successfully shut debug main head state change skip flush info main tarmk close noformat	['test-failure']	3	1	Closed
13038374	OAK	4399	test failure externalsharedstoreit	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile integrationteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile integrationteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure', 'ubuntu']	3	1	Resolved
13002746	OAK	4399	parallel approach garbage collection	assume logic record id implement tar file order reverse chronological order read segment tar file consult order segment recent tar file shadow segment old tar file segment new algorithm garbage collection implement define input garbage collection process input consist current set tar file set record ids represent root traverse root mark record use mark phase traverse record graph produce list record ids record ids reference directly indirectly give set root need keep list record ids order segment record number way possible process list pass figure segment record save end garbage collection remove unused record segment rewrite new set tar file list produce previous step traverse segment encounter new segment create contain record mark previous phase segment save new set tar file set new tar file result garbage collection process add new tar file system system append new tar file segment store segment tar file shadow one old tar file remove tar file old generation safe new set tar file currently shadow initial set tar file garbage collection process run system work usual start fresh tar file result garbage collection visible atomically end new tar file integrate running system	['gc', 'scalability']	3	2	Resolved
12989393	OAK	4399	trigger operation	implementation compare stable ids instance segmentnodestate case read stable trigger read additional record block record contain serialize version segment issue evaluate performance implication strategy particular well store serialize stable node record	['performance']	4	4	Resolved
13033423	OAK	4399	add persistence dependent namespace run cli command	command oak run currently live flat namespace command specific implementation leave implementation specific command mean distinguish belong like add layer indirection oak run command line interface parse command follow fashion noformat oak run segment debug folder oak run mongo debug oak run rdb debug jdbc oracle scott noformat scenario oak run simple entry point delegate implementation specific command line utility base argument previous example segment mongo rdb delegate different implementation specific cli utility cli utility understand debug command collect command line parameter see fit code command generic reuse different command parameterise reuse different implementation specific command benefit approach start move command close implementation approach benefit oak run overload command different implementation	['tooling']	3	4	Resolved
13027002	OAK	4399	better default size delta estimation	default value size delta estimation garbage collection change	['gc']	3	1	Closed
13026547	OAK	4399	test failure externalprivatestoreit testsyncupdatedbinaryproperty	jenkins failure build apache jackrabbit oak matrix jdk jdk profile integrationteste fail fail run apache jackrabbit oak matrix jdk jdk profile integrationteste job jdk profile console job jdk profile console	['test-failure']	3	1	Closed
13037624	OAK	4399	standby automatic cleanup default	osgi set controlling standby automatic cleanup set true default automatic cleanup cleanup method call standby provide size store increase sync cycle	['cold-standby']	4	4	Closed
12992483	OAK	4399	collection reference retrieve large number blob add	large number external blob add datastore cycle compaction execute reference collection logic return less number blob reference report correct number blob reference number blob add indicatingsome sort overflow related issue observe test less number blob reference return double expect maybe sort duplication add compaction blob reference return correctly atleast till	['datastore', 'gc']	3	1	Closed
12830623	OAK	4399	compaction check require disk space run	bad case compaction double repository size run somewhat unexpected check free disk space run compaction log warning avoid common source run disk space end corrupted repository	['compaction', 'doc-impacting', 'gc', 'resilience']	3	4	Closed
12934109	OAK	4399	oak run primary standby check segment version	primary standby run mode exit error run store non matching segment version	['resilience', 'tooling']	2	17	Closed
13013781	OAK	4399	test failure segmentdatastoreblobgcit	segmentdatastoreblobgcit crash jvm java follow relevant build output noformat info maven failsafe integration test default oak segment tar run filestoreit tests run failure error skip time elapse sec filestoreit run segmentreferencelimittestit tests run failure error skip time elapse sec segmentreferencelimittestit run largenumberofpropertiestestit tests run failure error skip time elapse sec largenumberofpropertiestestit run segmentoverflowexceptionit tests run failure error skip time elapse sec segmentoverflowexceptionit run externalprivatestoreit tests run failure error skip time elapse sec externalprivatestoreit running failoverssltestit tests run failure error skip time elapse sec failoverssltestit running brokennetworkit tests run failure error skip time elapse sec brokennetworkit running failovermultipleclientstestit tests run failure error skip time elapse sec failovermultipleclientstestit running mbeanit tests run failure error skip time elapse sec mbeanit run failoveriprangeit tests run failure error skip time elapse sec failoveriprangeit running standbytestit test run failure error skip time elapse sec standbytestit run recovertestit tests run failure error skip time elapse sec recovertestit running externalsharedstoreit tests run failure error skip time elapse sec externalsharedstoreit run segmentdatastoreblobgcit result test run failure error skip info info build failure info info total time min info finish info final memory info error fail execute goal maven failsafe integration test default project oak segment tar execution default goal maven failsafe integration test fail fork terminate properly say goodbye crash call error command jenkin workspace oak segment tar jre bin java true jenkin workspace oak segment tar target surefire jenkin workspace oak segment tar target surefire jenkin workspace oak segment tar target surefire noformat	['test-failure']	3	1	Closed
12958434	OAK	4399	remove deprecated constructor segmentnodestore	switch api client segmentnodestorebuilder instead	['technical_debt']	3	17	Resolved
12920357	OAK	4399	test failure externalsharedstoreit	externalsharedstoreit fail jenkins noformat externalsharedstoreit time elapse sec noformat see build	['ci', 'jenkins']	3	1	Resolved
12861783	OAK	4399	partial compaction	big repository compaction run need create deep copy current root node state case beneficial partially compact repository split compaction multiple cycle partial compaction run compaction sub tree like run tree create new root node state reference previous root node state replace say sub tree compact todo asses feasibility impact implement prototype	['compaction', 'gc', 'scalability']	3	2	Closed
12961891	OAK	4399	document oak segment tar	document oak segment tar specifically new change configuration monitoring option change change segment tar format	['documentation', 'gc']	3	3	Closed
12900998	OAK	4399	improve logging capability offline compaction	offline compaction instantiate filestore deprecated constructor constructor force gcmonitor swallow log message catch exception appropriate create filestore corresponding builder effect configure logginggcmonitor provide way information current default	['compaction', 'gc']	3	4	Closed
13015707	OAK	4399	standby test failure	recently see couple standby test fail jenkins noformat assertionerror expect segmentnodestate segmentnodestate noformat noformat assertionerror expect segmentnodestate segmentnodestate noformat noformat assertionerror expect noformat	['test-failure']	3	1	Closed
12927995	OAK	4399	clean filestore constructor	filestore constructor consist loc mess depend order initialisation call overrideable method handle different concern read read write etc clean way instantiate file store	['technical_debt']	3	17	Closed
12948112	OAK	4399	break cyclic dependency filestore segmenttracker	segmenttracker filestore mutually dependent problematic make initialise instance class difficult filestore constructor pass fully initialise instance segmenttracker turn write initial node state store notably fully initialise filestore instance	['technical_debt']	3	17	Closed
13093176	OAK	4399	implement roll upgrade oak	segment format change introduce tail compaction require explicit migration step instead rolling migration normal operation thing consider segment oak change tar index format induce segment format change change induce segment format change require change repository manifest interpretation	['migration', 'upgrade']	3	2	Closed
13013446	OAK	4399	segmentrevisiongc mbean report detailed status information	current status show log info useful interesting expose real time status monitor useful know exactly phase field show follow idle estimation compaction compaction compaction compaction forcecompact cleanup	['gc', 'monitoring']	3	4	Closed
13032183	OAK	4399	test failure brokennetworkt	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste job ubuntu jdk profile console job ubuntu jdk profile console initially report test failure testproxyflippedstartbyte additional test failure report testproxysslskippedbyte additional test failure report testproxyflippedstartbytessl additional test failure report test fail	['test-failure']	3	1	Closed
13120406	OAK	4399	test failure see upgradeit	noformat info run upgradeit warning corrupt stdout directly write native stream fork jvm faq web page dump file segment error test run failure error skip time elapse noformat	['test-failure', 'windows']	2	1	Closed
13251784	OAK	4399	backport	backport	['tarmk']	1	4	Resolved
12830668	OAK	4399	test segmentnodestoreservice	segmentnodestoreservice currently test coverage whatsoever change	['technical_debt']	3	4	Closed
13116445	OAK	4399	offline compaction use mmap windows	offline compaction tool effort detect run window disable memory mapping rational memory mapping enable fail remove old tar file	['compaction', 'gc', 'tooling']	3	4	Closed
13236196	OAK	4399	add remote store monitoring azure	add remote store monitoring implement remote store monitoring azure store include number request azure store number fail request azure store duration duration request azure store nanosecond	['tarmk']	3	2	Closed
12774577	OAK	7065	truncate line compaction	line compaction repository contain single revision file contain trail revision remove compaction process suggest truncate contain late revision create compaction	['compaction', 'gc']	4	2	Closed
13016843	OAK	7065	improve cache segment	aspect segment tar cache segment possibly improve current cache result replace hoc cache proper prone contention concurrent load current cache oblivious read read access serve actually hit cache result frequently access segment see cache potentially prematurely evict possibly approach address problem include reinstantiate cache pre make fully concurrent convey information read access current cache case avoid bulk segment place cache	['performance', 'scalability']	3	4	Resolved
12979326	OAK	7065	decouple segmentreader revision	introduce facto dependency revision access require obtain record head decouple segmentreader revision propose replace revision result lot boilerplate caller introduce convenience method client use matter	['technical_debt']	3	4	Closed
12696542	OAK	7065	extra event dispatch event	move node extra event dispatch oak compare implementation oak node add node remove event dispatch node hierarchy move property add property remove event dispatch property node hierarchy compare previous implementation node move node add node remove event dispatch parentnode move example problematic couple reason dispatch event previously case node frequently move add extra load system increasingly difficult ignore event relate spend extra cycle determination pre existing event listener execute event previously know jcr spec indicate implementation choose dispatch event suggest change oak throw extra event observation listener act event previously likely cause problem add simple marker event info map relate node node remove node add etc helpful try ignore event cause believe case situation hierarchy result type node remove type node add type node move oak type node remove type node move type node add jcr primarytype type property remove jcr createdby type property remove jcr create type property remove type node remove jcr primarytype type property add jcr createdby type property add jcr create type property add type node add jcr primarytype type property remove jcr createdby type property remove jcr create type property remove type node remove jcr primarytype type property add jcr createdby type property add jcr create type property add type node add jcr primarytype type property remove jcr createdby type property remove jcr create type property remove jcr primarytype type property add jcr createdby type property add jcr create type property add	['observation']	3	4	Closed
12921095	OAK	7065	tool detect reference pre compact segment	allow detect reference pre compact segment manual inspection need tooling help detect case site longevity test	['compaction', 'gc', 'tooling']	3	17	Closed
12960329	OAK	7065	clone cross session introduce reference pre compact segment	suspect certain write operation compaction cause reference compact segment pre compact one effectively prevent pre compact segment getting evict subsequent cleanup phase scenario follow session open lot content write update limit exceed cause change write disk revision run cause new compact root node state write disk session save change cause rebasing change current root compact point node add add sub tree root current root node write disk revision run contain pre compact segment suspect node add operation rebasing process create deep copy node create reference reference pre compact segment introduce go forward need validate hypothesis assess impact necessary come solution	['cleanup', 'compaction', 'gc']	2	4	Resolved
12919023	OAK	7065	offline compaction clean unreferenced tar file	regression introduce clean unreferenced tar file take	['cleanup', 'gc']	3	1	Closed
12684964	OAK	7065	randomizedreadtest fail outofmemoryerror permgen space	happen run maven build code run randomizedreadtest tests run failure error skip time elapse sec surefirereflectionexception invocationtargetexception nested exception invocationtargetexception null invocationtargetexception exception thread main outofmemoryerror permgen space result test run failure error skip code crucial point surefire silently ignore follow test build happily succeed make follow failure note test suite consist test contrast report surefire	['test']	3	1	Closed
13078411	OAK	7065	remove unused field	field explicit commit queue introduce	['technical_debt']	4	4	Closed
12830634	OAK	7065	npe	rare condition entirely clear result npe noformat nullpointerexception noformat happen base pass base map change null contain key remove update provide pass change	['resilience']	3	1	Closed
12976334	OAK	7065	remove segment version argument segment writer relate class	segmentwriter related class accept segmentversion argument confusing version store segment segment version field writer actually write segment old version late suggest remove explicit segment version class specify hard code segment version segment version segment tar currently support need support segment version arise future need decide point parametrise segment tar segment version	['refactoring']	3	4	Closed
12545672	OAK	7065	jcr binding oak	propose goal release basic jcr binding oak exist sandbox need decide place oak think oak core create separate oak jcr component jcr binding functionality nice jcr binding able following code repository repository session session try create hello world read assertequal hello world update hello world assertequal hello world delete world finally code	['jcr']	3	2	Closed
13076144	OAK	7065	unreferenced argument reference method	leftover switch record id record number point unnecessary track reference	['technical_debt']	4	4	Closed
12696529	OAK	7065	warn huge multi value property	explicit design non goal oak support huge amount value multi value property user try create throw warn log indicate usage mvp wrong	['production', 'resilience']	5	4	Closed
13083418	OAK	7065	cleanup constant segment class	constant segment class refer old segment reference limit fix comment constant usage reflect current situation limit lift	['technical_debt']	3	4	Closed
12902989	OAK	7065	deadlock close concurrently filestore	deadlock detect stop segmentcompactionit expose mbean noformat nid wait monitor entry wait release lock segmentwriter lock filestore nid wait monitor entry thread state blocked block wait release lock filestore lock segmentwriter noformat	['resilience']	3	1	Closed
12941553	OAK	7065	npe run oak run ide	run oak run ide cause npe code exception thread main nullpointerexception code cause check return value getresourceasstream null try load inf maven oak run file class path run ide	['tooling']	3	1	Closed
12961896	OAK	7065	consider make volatile	file volatile access different thread consider change volatile	['technical_debt']	4	4	Closed
12902425	OAK	7065	confuse snfe whith oak run debug	run oak run debug segmentstore result snfe log file store compact happen repository actually consistent accord oak run check reason debug traverse node state record id tar file previous cleanup tar file reach gain clean file leave segment possibly contain node state point limbo node result say snfe oak run debug node state reachable head node state repository consistent	['cleanup', 'gc', 'tooling']	3	4	Closed
12730473	OAK	7065	observation event accessibility check correctly	deliver observation event check respective item actually accessible associated session check currently state session time event listener register instead time event send	['observation']	3	1	Closed
13059956	OAK	7065	return new head null instead boolean	currently option return boolean indicate success failure caller access head result like change record new head case success null	['refactoring']	3	4	Closed
12858640	OAK	7065	segmentoverflowexceptionit run forever fail	currently segmentoverflowexceptionit run forever fail add time test consider pass	['test']	3	4	Closed
12827982	OAK	7065	improve revision segmentmk	container issue ongoing effort improve revision segmentmk explore way reference graph exact possible necessary contain segment referenceable contain segment referenceable way segregate reference graph reduce dependency certain set segment possible reduce number memory reference impact possible	['compaction', 'gc']	3	15	Closed
12831424	OAK	7065	put element map result small segment	issue hamt implementation interact segment reference limit put entry map limit gets regularly reach map contain entry point segment prematurely flush result segment reference small segment common segment small tar file contain segment problematic point handling segment graph expensive memory cpu wise see persist segment graph big usual size couple hamt map store child node advert effect node child node follow code reproduce issue code segmentwriter writer new gettracker maprecord basemap null map map newhashmap int recordid stringid stringid stopwatch basemap map code	['performance']	2	1	Closed
12671609	OAK	7065	periodically poll external event	currently external event report local change local change persist external change detect report local change cause external event delay indefinitely cluster node write want implement solution regularly poll external event previous implementation work	['observation']	4	4	Closed
12917177	OAK	7065	resilient backgroundthread implementation	currently backgroundthread die silently hit uncaught exception log warning call constructor anti pattern expose fully initialise potentially cause	['resilience']	3	4	Closed
13017636	OAK	7065	improve scalability tarmk	issue make tarmk scalable deal huge repository deal massive concurrent write improve monitor determine health monitor deduplication cache deduplication checkpoint possible avenue explore partition sub tree volatile static content pause resume precedence concurrent write real background process contend foreground operation issue follow efficacy	['gc', 'scalability']	3	15	Resolved
13097268	OAK	7065	add tooling api	current situation current segment store related tool implement hoc potentially rely internal implementation detail oak segment tar make tool useful portable stable potentially applicable goal provide common sufficiently stable oak tooling api implement segment store related tool api independent oak available normal production use oak specifically possible implement production feature production feature rely possible implement oak tooling api oak possible oak typical use case query number node property value give path satisfy criterion aggregate certain value query like calculate size content size disk analyse change binary big certain threshold add remove give revision sum size analyse locality measure locality node state incident plot analyse level deduplication checkpoint validation reimplement script mduerig script oak tooling api api draft whiteboard shoot api jackrabbit identify initially draft mduerig oak tooling api take place github apache svn soon consider mature consensus well	['tooling']	3	2	Closed
12707374	OAK	7065	improve warning log concurrent session access	introduce warning log session access concurrently different thread modality differ jackrabbit message code attempt perform sessionoperation thread concurrently write session block thread finish session review code avoid concurrent use session code log current thread current thread attempt write operation thread execute write operation jackrabbit current thread attempt write operation thread execute operation warning identical jackrabbit	['concurrency']	3	1	Closed
13098752	OAK	7065	eager	predicate include segment old lead deferred compaction operation strictly necessary affected segment generate tail compaction tail compaction create segment include predicate compaction operation reference segment fine reclaim cleanup follow tail compaction	['compaction', 'gc']	3	1	Closed
12781228	OAK	7065	stop repository	sporadic problem sling jcr installer oak tar time relate jcr installer point bring hole instance stop go course workaround remove jcr installer fear happen code repository gets interrupt error hard reproduce people test time happen	['doc-impacting', 'resilience']	2	4	Closed
13010089	OAK	7065	include option stop revisiongcmbean repositorymanagementmbean	oak segment tar acquire capability stop run revision task currently expose think expose functionality revisiongcmbean repositorymanagementmbean instead wdyt document node store implement support	['management', 'production', 'resilience']	3	4	Resolved
12993523	OAK	7065	external invocation background operation	background operation flush compact cleanup etc historically implementation filestore well schedule invoke external agent code deploy filestore well insight background operation invoke	['technical_debt']	3	4	Closed
12922638	OAK	7065	clean fixture code core jcr module	oak core oak jcr module use fixture mechanism provide nodestore implementation unit integration test problem fixture implementation nodestorefixture class duplicate module support different set option oak core version support rdb node store oak jcr support memorynodestore possible set mongodb url manually maven command line rdb make run test mongo replica hard mongo fixture remove test database test nodestorefixture implementation oak jcr reuse oak core version support value fixture enum mongo fixture customisable clean database	['tech-debt']	3	3	Closed
13068885	OAK	7065	add unit test coverage writelong readlong	unit test coverage oak common work patch submit shortly	['easyfix', 'patch', 'test']	4	6	Closed
13023222	OAK	7065	increase default size observation queue	mitigate problem hit observation queue limit bump default size	['resilience']	1	4	Closed
12976346	OAK	7065	heavywriteit sporadically fail	see heavywriteit fail sporadically local checkout noformat segmentnotfoundexception segment find noformat suspect problem isoldgeneration prepare old segment actually go	['gc']	2	1	Closed
12767740	OAK	7065	improve monitor capability tarmk revision	container devote improve monitoring tarmk revision garbage collection process overall goal transparent revision perform fail etc	['gc', 'monitoring', 'tooling']	3	3	Closed
12960315	OAK	7065	clone backgroundthread log throw instance error	run method backgroundthread instance hit error die silently instead log throw error	['resilience']	3	4	Closed
12972018	OAK	7065	decouple filestorestatstest	test currently unnecessarily strongly tie file store make prone fail implementation detail store change	['technical_debt']	3	4	Closed
13124679	OAK	7065	record table include index hexdump	currently segment dump create include list record offset offset match one subsequent raw byte dump segment add raw offset list record find actual datum belong record involve manually fiddle logical physical offset translation	['tooling']	4	4	Closed
12676732	OAK	7065	observation listener plus	oak provide extended efficient jcr observation listener mechanism support common use case handle restrict option jcr observation base path node type raw event case require listener register broadly filter specific case put event observation system create huge overhead asynchronous access modified jcr datum filtering easily big performance bottleneck write event previous discussion message late discussion message goal performance handle filtering early possible commit access modify datum present provide robust implementation typical filtering case provide asynchronous listener mechanism jcr minimize effect low level oak visible addition oak common oak jcr delete event allow filtering delete datum currently possible jcr listener run fact ignore external cluster event default extra option want register external event possible design extension jcr observation simplify migration exist code possible provide intelligent listener work pure jcr aka jackrabbit fall listener filtering maybe synchronous option simple interface instead raw oak plugin sure benefit read datum change block session commit typical filter case path globbe support example check property value equal equal contain etc importantly sling resourcetype sle app allow check property child node typically jcr content check parent ancestor change deep inside node type foo structure trigger node type modify important support efficiently node type jcr observation create modify delete event separate copy custom filter possible pass similar access observer	['observation', 'performance']	3	2	Closed
12962623	OAK	7065	fix test failure segmentdatastoreblobgcit	gclongrunningblobcollection consistencycheckwithgc fail removal old cleanup strategy test setup need adapt brutal strategy setup need simulate compaction cycle subsequent cleanup actually remove segment question sufficient cause snfe segment id actually remove segment table	['cleanup', 'gc']	3	3	Closed
13056257	OAK	7065	remove unused depth parameter relate method	depth parameter leftover node duplication cache depth node tree eviction strategy	['technical_debt']	4	4	Closed
13131600	OAK	7065	document tarmk specific mbean	currently tarmk oak docs nodestore segment jmx mention segmentrevisiongarbagecollection review paragraph include documentation relevant jmx endpoint	['documentation']	3	3	Closed
12707136	OAK	7065	improve largeoperationit accuracy document node store fixture	note largeoperationit somewhat inaccurate document node store fixture collected data tend noisy look way test result accurate case	['test']	3	4	Resolved
13035466	OAK	7065	improve transaction rate tarmk	tarmk write throughput limit way concurrent commit process rebasing run commit hook happen lock explicit scheduling epic cover improve overall transaction rate propose approach roughly scheduling transaction explicit add monitoring transaction gather well understanding experiment implement explicit scheduling strategy optimise particular aspect summary idea mention offline session advantage explicit scheduling control order commit sophisticated monitoring commit statistic commit rate time queue etc favour certain commit checkpoint reorder commit simplify rebase suspend compactor concurrent commit resume leave parallelise certain commit piggy backing implement concurrent commit editor need care proper access shared state maybe introduce idea common context enforce concurrent access semantic scheduler implementation expedite prioritise defer collapse coalesce parallelise piggy piggy commit idea process change commit check conflict change commit wait commit conflict detect commit immediately fail give current commit fail merge non conflicting commit give multiple transaction ready commit time process give conflict instead require rebase later transaction rebase shield file store interruptedexception thread boundary introduce implement test benchmark fixture verification	['scalability']	3	15	Resolved
12976915	OAK	7065	implement proper template cache	template cache currently map segment problematic way segment need memory probably load read cache monitoring instrumentation cache control memory consumption come proper template cache implementation way string stringcache analogously cache own cachingsegmentreader	['cache', 'monitoring', 'production']	3	4	Closed
12735772	OAK	7065	long run jcr session prevent live cleanup segment filestore	cleanup operation segmentnodestore detect reference garbage clean determine reference validity start initial set segmentid live java reference work fine simple setup oak repository application like sling application code create long running session observation session bind old nodestate time startup reference prevent cleanup logic remove old revision system run revision remove offline cleanup need find way migrate old nodestate reference new revision	['gc']	3	1	Resolved
12783856	OAK	7065	segmentoverflowexception heavywriteit jenkins	noformat heavywriteit time elapse sec error segmentoverflowexception segment reference noformat	['ci', 'jenkins']	2	1	Closed
12961701	OAK	7065	garbage leave compaction succeed	result new cleanup approach introduce brutal compaction cycle successful cancellation give wait lock leave garbage clean generation later look way remove garbage pro actively	['cleanup', 'compaction', 'gc']	3	4	Closed
12934509	OAK	7065	log id segment release age	compactionstrategy release segment age log message help determine root cause snfe	['cleanup', 'gc']	3	17	Closed
12977379	OAK	7065	setup windows build	discuss coverage windows	['ci', 'build', 'infrastructure', 'jenkins']	1	17	Closed
12727885	OAK	7065	wrong value report	value report repositorystatistics statistic wrong instead total time spend processing observation event report total time produce observation event	['monitoring', 'observation']	3	1	Closed
13110217	OAK	7065	refactor	well advantage closer instance close resource include file store lock order close call align dependency	['refactoring', 'technical_debt']	3	4	Closed
13141749	OAK	7065	remove debug log console test	introduce log debug log system console sort test failure jenkins see failure issue fix like remove extra logging avoid clutter console unnecessarily	['technical_debt']	3	4	Closed
12929747	OAK	7065	pass compaction map	argument unused remove	['technical_debt']	4	17	Closed
12724756	OAK	7065	feature work eventgenerator class	continuation create fullqueue list cause take right list generate instead continue rest list allow shrink result list grow instead anticipate	['observation']	3	1	Closed
13113047	OAK	7065	tarmk disk space check synchronize filestore open state	disk space check properly synchronize filestore reveal race condition oak upgrade migration segment tar filestore instance close tarmk disk check try execute dependent state segment need open noformat warn scheduler scheduler filestore background task take long shut info filestore tarmk close crx quickstart repository segment segmentstore error saferunnable uncaught exception tarmk disk space check crx quickstart repository segment segmentstore illegalstateexception shut noformat	['concurrency', 'production']	4	1	Closed
13103614	OAK	7065	readonly connection fresh segmentnodestore setup fail	start server oak version try connect oak setup result follow exception noformat info main filestore create file store repository segmentstore blobstore datastore back blobstore oakfiledatastore memorymapping true gcoption false estimationdisable false gctype warn main tarreader unable load index file unrecognized magic number info main tarreader index find tar file skip warn main tarreader find valid tar index repository segmentstore recover read info main tarreader recover segment tar file repository segmentstore info main tarreader regenerate tar file path repository segmentstore error main indexcommand error occur perform index task illegalargumentexception invalid segment buffer oak noformat post restart server oak run able connect fine look like issue fresh setup command oak run noformat java index repository datastore head index lucene repository segmentstore noformat	['tooling']	4	1	Closed
12861233	OAK	7065	tarmk cleanup block writer	tarmk cleanup exclusively lock filestore cause concurrent writer block cleanup finish initially cleanup expect reasonably fast see take dozen minute certain circumstance likely tar file small segment aka	['cleanup', 'gc']	3	4	Closed
12692131	OAK	7065	observer session	mention case single session register multiple observation listener troublesome event deliver concurrently listener case namepathmapper session internal likely suffer lock contention good way avoid listener register single session tie single observer process sequentially improve performance listener leverage content diff listener come single session presumably single client need worry client block work	['observation']	3	4	Resolved
12851653	OAK	7065	deadlock persisted compaction map cleanup	see deadlock run segmentcompactionit noformat tarmk flush thread target active aug previous max duration daemon wait monitor entry thread state blocked object monitor wait lock segmentid lock filestore lock filestore lock atomicreference wait monitor entry thread state blocked object monitor wait lock filestore lock segmentid noformat	['cleanup', 'compaction', 'gc']	2	1	Closed
12777494	OAK	7065	implement mbean monitor garbage collection	provide monitoring garbage collection process time series repository size time series space reclaim time stamp clean time stamp compaction error time stamp run schedule	['compaction', 'gc', 'monitoring']	3	7	Closed
13134438	OAK	7065	add configurable repository size cap segmentoverflowexceptionit	segmentoverflowexceptionit potentially consume lot disk space run minute aw instance iop result take currently test time box size box suggest add option cap repository size addition exist	['test']	3	4	Closed
12767762	OAK	7065	auto refresh session revision	approach revision garbage collection take assume long run background session refresh active incidentally true background session usually admin session auto refresh access soon away admin session true start see segmentnotfoundexception user explicitly refresh session prevent session auto refresh revision run	['gc']	3	4	Closed
12823366	OAK	7065	oak run register jmx bean	start oak oak run jmx bean register convenient registration happen	['tooling']	4	4	Closed
13057868	OAK	7065	improve cache statistic segment cache	statistic provide segment cache fact serve level cache hit level cache report hit miss rate low look expose well statistic wrt cache segment possible consolidate level cache	['monitoring']	3	4	Closed
13116443	OAK	7065	persist compact head journal	return necessarily contain head create compactor lead problem downstream like compactor tool write wrong uncompacted head propose fix method compaction add test case verify contain correct head state	['compaction', 'gc']	3	1	Closed
13082516	OAK	7065	refactor monitoring deduplication cache	currently monitor deduplication cache hard wire cache manager clean fact pre requisite decouple monitoring cache	['technical_debt']	3	4	Closed
12682951	OAK	7065	failure observationrefreshtest	fail test observationrefreshtest add node expect test run failure error skip time elapse sec method observationrefreshtest time elapse sec method	['observation']	3	1	Closed
12961884	OAK	7065	prone race lead corruption	small window lead datum corruption crash right set persisted head delay flush segmentbufferwriter instance flush data lose reference persisted head need come test case possible fix return future rely completion callback change likely useful	['resilience']	2	1	Closed
12767742	OAK	7065	provide information segmentnotfoundexception	currently way distinguish segmentnotfoundexception occur remove segment corruption optimally tell exception segment go old remove refer time order probably need kind log following datum segment remove new generation file file remove log segment file removal segment find old type exception throw instead example readtimeoutexception message contain datum possible segment removal segment compaction run session login refresh stack trace session acquire	['gc', 'monitoring']	3	7	Closed
13057842	OAK	7065	unify simplify deduplication cache	preparation enable well monitoring add precise monitoring probe deduplication cache like unify interface simplify setup expose cache statistic filestore leverage filestorebuilder instead deduplication cache implement unify cache interface simplify wrap additional access statistic collection replace hoc collection cache statistic nodewritestat inner class segmentwriter replace structured approach expose additional cache access statistic metric additional statistic discriminate cache access occur regular write occur compaction	['monitoring', 'refactoring', 'technical_debt']	3	4	Closed
12754445	OAK	7065	add metadata change value event multivalued property	get event non multivalued property value actually change handler event need information process eventually work change value hand event multivalue property string relate value bring source uncertainty event handler process change mean understand property value change react accordingly workaround create oak specific observer deal diff state create specific event contain diff add non trivial load repository observer additional event generate great default event metadata change value index similar information help understand value change add delete update	['observation']	3	4	Closed
13014772	OAK	7065	simplify gclistener	simplify gclistener minimise boilerplate necessary filestorebuilder	['technical_debt']	3	4	Closed
13042569	OAK	7065	revisit filestorestat mbean stat format	big refactoring item revisit format expose datum move have machine consumable friendly format	['monitoring']	3	4	Resolved
13049537	OAK	7065	oom segmentreferencelimittestit	run heap currently result oome need check expectation valid segment tar adapt test look memory consumption	['test-failure']	3	1	Closed
12936278	OAK	7065	forward edge missing segmentgraph	graph produce oak run graph include forward edge reference old segment new segment reference introduce fix file store cleanup	['cleanup', 'gc', 'technical_debt', 'tooling']	3	1	Closed
12702110	OAK	7065	expose revisiongcmbean support nodestore	nodestore implementation expose revisiongcmbean order interoperable repositorymanagementmbean	['monitoring']	3	4	Closed
12711671	OAK	7404	concurrentconflicttest fail occasionally	occur buildbot	['concurrency']	4	1	Closed
13045626	OAK	7404	perform update single node remote possible	single node modify commit currently perform remote call actual update update commit root single node update commitroot node update optimize case operation	['performance']	3	4	Closed
12706946	OAK	7404	document atomicity key update	document assume similar remove good effort	['concurrency']	3	1	Closed
12986196	OAK	7404	diff calculation documentnodestore try use journal info diff cache miss	currently diff information fill cache actively local commit push externally read change push time event processing entry evict case fall compute diff compare node state expensive eventually fairly non recoverable lead improve situation somewhat probably try consult journal entry read smaller superset change path fall comparison	['observation', 'resilience']	4	4	Closed
13047677	OAK	7404	oak upgrade usage note refer oak run	run java oak print noformat usage java oak upgrade option destination upgrade jcr repository java oak upgrade option source destination migrate oak repository noformat incorrectly refer oak run upgrade send oak run command move oak upgrade module	['production', 'tooling', 'usability']	4	1	Closed
12841279	OAK	7404	suspend commit conflict	documentnodestore cluster currently show conflict behavior intuitive modification fail conflict conflict external change visible current session aspect issue modification conflict change cluster node committed visible current cluster node invaliditemstateexception cause conflict refreshed session external change aspect fundamental design decision change easily second address suspend commit external conflict visible current cluster node avoid awkward situation external change visible invaliditemstateexception system deterministic commit currently go number retrie exponential guarantee external modification visible retrie	['resilience']	3	4	Closed
12930181	OAK	7404	avoid commit far future clock skews	follow message avoid bad commit misbehave clock point discussion start self destruct mode update lease revision creation check newly create revision leaseend time implementation useful	['resilience']	3	4	Closed
12861552	OAK	7404	commit add collision marker committed revision	happen commit add collision marker revision commit perform conditional update add collision marker check document update marked revision commit	['resilience']	4	1	Closed
12822650	OAK	7404	time limit hierarchicalinvalidator	issue relate report background read cache invalidation take long time minute good hierarchicalinvalidator upper limit time perform invalidation time implementation simply invalidate remain document	['resilience']	3	4	Resolved
12856839	OAK	7404	throw illegalargumentexception	throw illegalargumentexception javadoc return nodestate null exception prevent recovery asyncindexupdate bad record checkpoint	['resilience']	4	4	Closed
12830954	OAK	7404	arrayindexoutofboundsexception	rare case commit fail update pende change lastrev document stack trace noformat cause arrayindexoutofboundsexception noformat	['resilience']	2	1	Closed
12836776	OAK	7404	broken link documentation site	point exit	['documentation']	4	1	Resolved
13291031	OAK	7404	throw npe invalid path filter	register resource change listener encounter follow exception code java error felixdispatchqueue frameworkevent error nullpointerexception nullpointerexception null code debugging find issue lie snippet code java include exclude null getoakpath method return null npe cause case fail registration	['observation']	4	1	Closed
12705591	OAK	7404	create multiple checkpoint head revision overwrite previous entry	currently checkpoint create documentnodestore save form multiple checkpoint create head revision change save previous entry overridden revision key fix change expiry time new expiry time great previous entry safely cluster check save currently possible documentstore api modcount check support node	['resilience']	4	1	Closed
13542113	OAK	7404	overwrite exist mixin	session lack permission read property jcr mixintype permission write overwrite exist mixin call implementation check session permission read jcr mixintype assume exist value session permission result jcr mixintype property single value pass addmixin	['candidate_oak_1_22']	3	1	Closed
12697726	OAK	7404	fail test mergesortediterator	run oak node clutser follow exception see basically come asynchupdate try update async status concurrently noformat error quartzscheduler exception job execution uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator uncheckedexecutionexception uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator cause uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator common frame omit cause illegalstateexception revisioned value property index async status element iterator great previous iterator common frame omit noformat	['cluster']	3	1	Closed
12825863	OAK	7404	change default	default multipler currently translate lock try timeout second low result merge failure commit acquire merge lock exclusively like increase	['doc-impacting', 'resilience']	4	4	Closed
12930165	OAK	7404	collision mark wrong commit	rare case happen collision mark wrong commit introduce conditional update commit root collision marker fail commit revision condition move split document time	['resilience']	4	1	Closed
12842397	OAK	7404	add compound index modify	explain diff logic make like modify gte well deterministic query performance need create compound index like index ensure mongo perform object scan evaluate query care take index create default fresh setup exist setup expose jmx operation invoke system admin create require index maintenance window	['performance', 'resilience']	1	4	Closed
13064699	OAK	7404	avoid read mongodb primary	oak attempt read mongodb secondary detect request data available secondary multiple oak cluster node deploy mongodb replica set read direct primary reason see practice observer jcr event listener trigger soon change happen read recently modify document make difficult oak direct call nearby secondary change available simple solution observer delay processing change available near secondary sophisticated solution discuss offline hide replica set entirely read near secondary write obviously primary return write available near secondary guarantee subsequent read able precede write	['scalability']	3	4	Closed
12839549	OAK	7404	use batch update backgroundwrite	early post thread go heavy work update lastrev pende change hierarchical depth manner unfortunately pende change come separate commit sound unlikely update send individual update call mongo lastrev differ change result call mongo extend documentstore api batch update method available backgroundwrite	['performance']	3	4	Closed
12991357	OAK	7404	documentmk specific method documentnodestore	documentmk specific method documentnodestore move documentmk	['technical_debt']	4	17	Closed
12862191	OAK	7404	reduce perflogger isdebugenable overhead	node cache time spend check debug log enable likely turbofilters reduce overhead perflogger check debug enable end start help check second debug enable	['performance']	4	4	Closed
12987119	OAK	7404	cache update block new commit	cache update commit commitqueue thread block try acquire new revision queue	['concurrency']	4	4	Closed
13172627	OAK	7404	prevent commit past	similar prevent commit revision old present repository runtime take care static field revision class startup clock jump past oak stop	['resilience']	4	4	Closed
12842389	OAK	7404	use lower bind versiongc query avoid check unmodified delete doc	suggest quote optimization limit lower bind modify range revision need check document deletedonce modify successful run change consider exist run exist current run work need track successful revision run quote lowest validate modify possibly save setting collection reuse run	['performance']	3	4	Closed
12702434	OAK	7404	documentns implement refined conflict resolution addexistingnode conflict	implement refined conflict resolution addexistingnode conflict define parent issue document	['resilience']	3	7	Open
13002722	OAK	7404	leaderboard consolidatedlistenermbean	consolidatedlistenermbean contain stat jcr event listener difficult overview expensive listener mbean expose simple leaderboard order listener accord processing time producer consumer time	['observation']	4	4	Closed
12857550	OAK	7404	optimize	time able quickly identify new revision code fall expensive calculation attempt read available revision commitroot entry map method entire revision history	['performance']	3	4	Closed
12744000	OAK	7404	release oak	issue	['release']	3	3	Resolved
13133362	OAK	7404	check child node name jcr mixintypes	case result check child node name jcr mixintypes	['performance']	4	4	Closed
13536160	OAK	7404	npe try binarydownload uri	line code apache jackrabbit oak blob trunk oak store spi src main java org apache jackrabbit oak plugin value jcr handle possibility getbinaryvalue return null try sas uri binary get follow error noformat nullpointerexception null store noformat unfortunately know resource question value propertytype binary	['oak']	4	1	Closed
12940564	OAK	7404	documentnodestore require server time accuracy	documentnodestore currently require local time persistence time differ second recently try run cluster windows machine despite configure use ntp service confirm default windows provide require accuracy workaround install custom ntp client want require	['documentation']	4	20	Closed
12701867	OAK	7404	incorrect handling addexistingnode conflict nodestore	say addexistingnode node add different node add trunk nodestore implementation throw commitfailedexception instead annotate conflict treat equal child conflict	['concurrency', 'observation', 'technical_debt']	3	1	Open
13015847	OAK	7404	remove	remove single production usage propose remove method reduce maintenance	['technical_debt']	3	3	Closed
12781432	OAK	7404	annotate intermediate doc property name	read valuemap inefficient change give property distribute sparsely previous document current implementation scan entire set previous document collect change intermediate document additional information property present reference previous document	['performance']	3	4	Open
12987139	OAK	7404	add info event generation consumption observer	sure possible current scheme thing implementation useful able easily differentiate slow diff calculation slow observer reason observation queue fill	['monitoring', 'observation', 'performance']	4	4	Closed
12699101	OAK	7404	concurrent flattreewithaceforsameprincipaltest fail oak mongo	benchmark test fail run concurrently cluster set test content fail conflict assume happen node permission store populate concurrently conflict	['concurrency']	4	1	Resolved
13074194	OAK	7404	test failure	regression fail past build take error message expect stacktrace assertionerror expect fail run jackrabbit oak job console job console	['ci', 'jenkins', 'test-failure']	3	1	Closed
12727863	OAK	7404	fail fast branch conflict	current mongomk implementation perform retrie run merge conflict cause collision possible resolve conflict reset branch state merge run commit hook help conflict introduce commit hook moment retrie happen conflict introduce merge case retry useless commit fail fast	['performance']	4	4	Closed
12833670	OAK	7404	parent unseen child removable	possible hide intermediate node create concurrently scenario like noformat start create parent create parent noformat allow creation parent got persist later currently able delete parent	['concurrency', 'technical_debt']	4	1	Closed
12902929	OAK	7404	lastrevrecovery self async	currently cluster node start discover properly shutdown run complete lastrevrecovery continue startup fail acquire recovery lock imply different cluster node run recovery behalf simply skip recovery continue startup run recovery proceed critical code lastrevrecoveryagent need change code recovery perform current clusternode node halt startup revision recovery perform node attempt recovery return code critical want run recovery asynchronously	['resilience']	3	1	Closed
12785538	OAK	7404	update lease hold lock	lease update documentnodestore mongodb acquire lock mongodocumentstore perform change locking necessary change node collection document cache locking make sure cache consistent mongodocumentstore change acquire lock change node collection	['concurrency', 'technical_debt']	3	4	Closed
13102249	OAK	7404	documentnodestore bundle	documentnodestore implementation backend mongodb rdb bundle possible release oak core nodestore implementation independently	['modularization', 'technical_debt']	3	3	Closed
12903311	OAK	7404	remove	method documentmk class consider test helper api anymore method remove documentnodestore functionality move method	['technical_debt']	4	4	Closed
12713027	OAK	7404	constraintviolationexception see multiple oak mongo concurrentcreatenodestest	run concurrentcreatenodestest instance write mongo instance follow exception see noformat exception thread background job runtimeexception constraintviolationexception primary type rep root exist cause constraintviolationexception primary type rep root exist cause commitfailedexception primary type rep root exist noformat report	['concurrency']	4	1	Closed
12861256	OAK	7404	splitoperation purge commitroot entry eagerly	introduce purge commitroot entry associated local change document commitroot entry create child nod add child flag touch parent purge operation eager remove entry result undetected hierarchy conflict	['resilience']	3	1	Closed
12727333	OAK	7404	optimize diff logic large number child case	documentnodestore currently make use query determine child node change certain time query like noformat modify gte noformat try optimize majority case start time recent case make use modify index start time old node large number child involve scan node modify index help instead query like special handling case large number child involve involve follow step analyze runtime query case see old modify time number change node node array array bound update splice push operator entry array record modifiedtime child node modify array sort modifiedtime update child belong parent involve update array query modify check parent array parent cache array time entry require start time directly use avoid query reduce need query majority case	['performance', 'resilience']	3	4	Closed
12833338	OAK	7404	documentnodestore background update thread handling persistence exception	see log file noformat warn documentnodestore background update thread documentnodestore background operation fail documentstoreexception sqltransactionrollbackexception sql error documentstoreexception sqltransactionrollbackexception sql error noformat need decide harmless operation repeat answer yes want tune log message answer need dig deeply wdyt	['resilience']	4	4	Closed
12681562	OAK	7404	illegalstateexception mergesortediterator	run oak node clutser follow exception see basically come asynchupdate try update async status concurrently noformat error quartzscheduler exception job execution uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator uncheckedexecutionexception uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator cause uncheckedexecutionexception illegalstateexception revisioned value property index async status element iterator great previous iterator common frame omit cause illegalstateexception revisioned value property index async status element iterator great previous iterator common frame omit noformat	['cluster']	3	1	Closed
12781803	OAK	7404	cleanup oak travis job	move jenkins let remove travis job oak	['ci']	3	7	Closed
12709036	OAK	7404	cleanup documentation modcount	documentation document modification count document long value incremente modification give impression mechanism documentstore api contract imho	['documentation']	4	3	Closed
13002681	OAK	7404	include initial cost stat observation processing	jackrabbit jcr commons listenertracker collect timing jcr event listener track producer oak internal consumer jcr eventlistener time initial producer cost currently reflect stat changeprocessor oak jcr initial hasnext eventiterator outside listenertracker listener initial producer time account entire cost event filter reject change	['observation']	4	4	Closed
12684282	OAK	7404	clean repositorystub class	overlap repositorystub class need clean ago decide switch default tck setup tck configuration point oakrepositorystub derive oakrepositorystubbase change oakrepositorystubbase use tarmk duplicate code oaktarmkrepositorystub	['test']	4	3	Closed
13056362	OAK	7404	remove cachednodedocument	cachednodedocument interface introduce feature later remove interface remove	['technical_debt']	4	4	Closed
13180468	OAK	7404	test failure	fail occurrence travis see test fail infrastructure	['continuous_integration']	4	1	Closed
13001354	OAK	7404	prefetch external change	cluster listener register receive external change pull external change bottleneck process external change local change observation queue lead system queue eventually fill instead process external change implementation prefetch come need pull parallel	['observation']	3	4	Closed
13001317	OAK	7404	optimize pathrev string	pathrev instance key cache entry asstring fromstring method call frequently persistent cache enable	['performance']	4	4	Closed
13045162	OAK	7404	remove duplicate code background operation time log	multiple place documentnodestore background operation log timing consolidate	['technical_debt']	4	4	Closed
12693122	OAK	7404	occasional concurrentfileoperationstest failure	recent test failure buildbot say noformat concurrentfileoperationstest time elapse sec error invaliditemstateexception unresolved conflict node noformat	['concurrency']	4	1	Closed
12843210	OAK	7404	lastrevrecoveryagent update lastrev child root	mention jira browse comment situation lastrevrecoveryagent update node tree root happen change path update collect code path non root content change mind content change include add delete happen default node child track lastrev update subsequent backgroundupdate operation leave old date correct description intention revision determine commitroot parent effect lastrevrecoveryagent find intermittent node update root update glance non intuitive attach test case reproduce bug wdyt	['resilience']	3	1	Closed
13011031	OAK	7404	interrupt online revision cleanup documentmk	sub task document specific change	['management']	3	17	Closed
13154787	OAK	7404	remove dependency common codec	module oak store document currently use single utility method common codec difficult remove dependency	['technical_debt']	4	4	Closed
12902419	OAK	7404	property history traversal late rev current doc commit	try look late revision entry property current document look entry give property case entry commit code previous document look committed value	['performance']	3	1	Closed
13014670	OAK	7404	server time unavailable authenticate connection mongodb	mongodocumentstore get current server time serverstatus command mongodb configure authentication command fail require manual reference build role method simply log warn message assume time difference maybe different command use time server	['resilience']	4	1	Closed
12845515	OAK	7404	performance degradation unsavedmodifications mapdb	unsavedmodification performance degrade combination mapdb back mapfactory call expensive long instance use cause limitation mapdb remove btree node test perform random path add map later remove loop show increase roughly second read key present map underlying data file size	['performance']	3	1	Closed
12827231	OAK	7404	compare node state external change slow	compare node state local change improve cluster setup generating event external change use introduce cache slow result grow observation queue eventually reach configure limit	['docs-impacting', 'scalability']	1	4	Closed
13045516	OAK	7404	test failure persistentcache	jenkins failure build apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste fail fail run apache jackrabbit oak matrix ubuntu slave ubuntu jdk jdk profile unitteste job ubuntu jdk profile console job ubuntu jdk profile console	['test-failure', 'ubuntu']	3	1	Resolved
13004849	OAK	7404	basic cache consistency test exception	aim check cache behaviour documentstore implementation underlying backend throw exception operation succeed response send network issue issue provide documentstore independent test	['resilience']	4	6	Closed
13039435	OAK	7404	reduce read overlap previous document	read node state past revision expensive change history previous document overlap change case change previous document merge sorted find correct value property node overlapping range sort need prominent node repository create previous document node get frequent update split regular basis property node update time likely previous document range overlap	['observation', 'performance']	3	4	Closed
13173120	OAK	7404	remove strategy optimize secondary read	introduce strategy optimize read secondary supersede task remove old strategy	['technical_debt']	3	3	Closed
12859572	OAK	7404	self recover instance change	documentnodestore instance kill restart lastrev recovery mechanism trigger startup happen restart instance change recover	['resilience']	3	1	Closed
12820818	OAK	7404	fair mode backgroundoperationlock	backgroundoperationlock documentnodestore use default non fair acquisition order accord javadoc reentrantreadwritelock possible background operation task gets delay long time system load probably consider fair mode backgroundoperationlock sure background operation task delay excessively	['concurrency']	3	4	Closed
12831690	OAK	7404	update jackrabbit	introduce snapshot dependency jackrabbit snapshot release snapshot dependency remove	['technical_debt']	4	4	Closed
13003584	OAK	7404	clusternodeinfo renew lease recovery run	detect recover cluster node	['resilience']	3	1	Closed
13042975	OAK	7404	initialcontent depend bundlingconfiginitializer	light dependency document nodestore code got introduce initialcontent add follow line code bundlingconfiginitializer code bundlingconfiginitializer define look troublesome think generic jcr initialcontent dependency document nodestore code base define dedicated repositoryinitializer kind init making sure list default setup scenario actually document store require	['modularization', 'tech-debt']	4	1	Closed
12933019	OAK	7404	commit fail change documentstore	rare case happen documentnodestore consider commit fail change apply entirely documentstore issue happen update commit root apply storage documentstore shortly communication oak storage system fail oak consider fail change actually apply issue reproduce test attach replica set node kill primary node restart loop eventually lead commit conflict	['resilience']	3	1	Closed
12829503	OAK	7404	bypass commitqueue branch commit	currently commit commitqueue apply commit fit memory branch commit merge commit reset commit guarantee provide commitqueue necessary commit affect head revision store commit fit memory merge commit branch reset commit bypass commitqueue avoid unnecessary delay commit	['performance']	3	4	Closed
12710305	OAK	7404	better cooperation conflict update cluster node	commit failure cluster session try update property perform conflict update current implementation retry merge delay chance session cluster node change property meantime lead retry limit reach commit fail conflict logic unfair favor win session implementation improve fair behavior cluster node conflict cause compete session	['concurrency', 'scalability']	3	4	Open
12770899	OAK	7404	resolve base directory path persistent cache repository home	currently persistentcache use directory path directly part oak need access filesystem currently use framework property osgi env persistentcache	['technical_debt']	4	4	Closed
